<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction to the R-spatial ecosystem | Getting started with R and R-spatial</title>
  <meta name="description" content="Teaching materials for R and R-spatial introduction workshop at FOSS4G2022." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction to the R-spatial ecosystem | Getting started with R and R-spatial" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Teaching materials for R and R-spatial introduction workshop at FOSS4G2022." />
  <meta name="github-repo" content="Bakaniko/foss4g2022-getting-started-rspatial" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction to the R-spatial ecosystem | Getting started with R and R-spatial" />
  
  <meta name="twitter:description" content="Teaching materials for R and R-spatial introduction workshop at FOSS4G2022." />
  

<meta name="author" content="Nicolas Roelandt and Jakub Nowosad" />


<meta name="date" content="2022-08-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-handling-with-r.html"/>
<link rel="next" href="making-maps-in-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<script src="libs/leaflet-graticule-0.1.0/L.Graticule.js"></script>
<script src="libs/leaflet-graticule-0.1.0/Graticule-binding.js"></script>
<link href="libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet" />
<script src="libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script>
<script src="libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Getting started with R and R-spatial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#pre-requisites"><i class="fa fa-check"></i>Pre-requisites</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-is-love-r"><i class="fa fa-check"></i>What is <del>love</del> R ?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#why-an-r-workshop-in-a-foss4g-conference"><i class="fa fa-check"></i>Why an R workshop in a FOSS4G conference ?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#coding-paradigms"><i class="fa fa-check"></i>Coding paradigms</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html"><i class="fa fa-check"></i><b>1</b> Data handling with R</a><ul>
<li class="chapter" data-level="1.1" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#data-types"><i class="fa fa-check"></i><b>1.1</b> Data types</a></li>
<li class="chapter" data-level="1.2" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#assignment"><i class="fa fa-check"></i><b>1.2</b> Assignment</a></li>
<li class="chapter" data-level="1.3" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#not-only-a-calculator"><i class="fa fa-check"></i><b>1.3</b> Not only a calculator</a></li>
<li class="chapter" data-level="1.4" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#packages"><i class="fa fa-check"></i><b>1.4</b> Packages</a></li>
<li class="chapter" data-level="1.5" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#load-data"><i class="fa fa-check"></i><b>1.5</b> Load data</a></li>
<li class="chapter" data-level="1.6" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#in-the-beginning-was-the-verb"><i class="fa fa-check"></i><b>1.6</b> In the beginning was the Verb</a></li>
<li class="chapter" data-level="1.7" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#filter-data"><i class="fa fa-check"></i><b>1.7</b> Filter data</a><ul>
<li class="chapter" data-level="" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#exercice"><i class="fa fa-check"></i>Exercice</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#select-columns"><i class="fa fa-check"></i><b>1.8</b> Select columns</a></li>
<li class="chapter" data-level="1.9" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#create-new-variables"><i class="fa fa-check"></i><b>1.9</b> Create new variables</a></li>
<li class="chapter" data-level="1.10" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#agregate-data"><i class="fa fa-check"></i><b>1.10</b> Agregate data</a><ul>
<li class="chapter" data-level="" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#exercice-1"><i class="fa fa-check"></i>Exercice</a></li>
</ul></li>
<li class="chapter" data-level="1.11" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#join-data"><i class="fa fa-check"></i><b>1.11</b> Join data</a></li>
<li class="chapter" data-level="1.12" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#piping"><i class="fa fa-check"></i><b>1.12</b> Piping</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rspatial.html"><a href="rspatial.html"><i class="fa fa-check"></i><b>2</b> Introduction to the R-spatial ecosystem</a><ul>
<li class="chapter" data-level="2.1" data-path="rspatial.html"><a href="rspatial.html#rs-spatial-ecosystems"><i class="fa fa-check"></i><b>2.1</b> R’s spatial ecosystem(s)</a></li>
<li class="chapter" data-level="2.2" data-path="rspatial.html"><a href="rspatial.html#vector-data"><i class="fa fa-check"></i><b>2.2</b> Vector data</a></li>
<li class="chapter" data-level="2.3" data-path="rspatial.html"><a href="rspatial.html#raster-data"><i class="fa fa-check"></i><b>2.3</b> Raster data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html"><i class="fa fa-check"></i><b>3</b> Making maps in R</a><ul>
<li class="chapter" data-level="3.1" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#mapping-tools-in-r"><i class="fa fa-check"></i><b>3.1</b> Mapping tools in R</a></li>
<li class="chapter" data-level="3.2" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#basic-example"><i class="fa fa-check"></i><b>3.2</b> Basic example</a></li>
<li class="chapter" data-level="3.3" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#shapes-and-layers"><i class="fa fa-check"></i><b>3.3</b> Shapes and layers</a></li>
<li class="chapter" data-level="3.4" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#attributes-layers"><i class="fa fa-check"></i><b>3.4</b> Attributes layers</a></li>
<li class="chapter" data-level="3.5" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#other-map-elements"><i class="fa fa-check"></i><b>3.5</b> Other map elements</a></li>
<li class="chapter" data-level="3.6" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#interactive-mode"><i class="fa fa-check"></i><b>3.6</b> Interactive mode</a></li>
<li class="chapter" data-level="3.7" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#saving-maps"><i class="fa fa-check"></i><b>3.7</b> Saving maps</a></li>
<li class="chapter" data-level="3.8" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#what-else"><i class="fa fa-check"></i><b>3.8</b> What else?</a></li>
<li class="chapter" data-level="3.9" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#more-resources"><i class="fa fa-check"></i><b>3.9</b> More resources</a></li>
<li class="chapter" data-level="3.10" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#exercises"><i class="fa fa-check"></i><b>3.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html"><i class="fa fa-check"></i><b>4</b> Manipulating vector data</a><ul>
<li class="chapter" data-level="4.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#read-spatial-data"><i class="fa fa-check"></i><b>4.1</b> Read spatial data</a><ul>
<li class="chapter" data-level="4.1.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#cycle-hire-dataset"><i class="fa fa-check"></i><b>4.1.1</b> Cycle hire dataset</a></li>
<li class="chapter" data-level="4.1.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#boroughs-of-london"><i class="fa fa-check"></i><b>4.1.2</b> Boroughs of London</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#reprojection"><i class="fa fa-check"></i><b>4.2</b> Reprojection</a></li>
<li class="chapter" data-level="4.3" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#joins"><i class="fa fa-check"></i><b>4.3</b> Joins</a><ul>
<li class="chapter" data-level="4.3.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#join-by-attributes"><i class="fa fa-check"></i><b>4.3.1</b> Join by attributes</a></li>
<li class="chapter" data-level="4.3.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#spatial-join"><i class="fa fa-check"></i><b>4.3.2</b> Spatial join</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#aggregation"><i class="fa fa-check"></i><b>4.4</b> Aggregation</a><ul>
<li class="chapter" data-level="4.4.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#count"><i class="fa fa-check"></i><b>4.4.1</b> Count</a></li>
<li class="chapter" data-level="4.4.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#sum"><i class="fa fa-check"></i><b>4.4.2</b> Sum</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#centroids"><i class="fa fa-check"></i><b>4.5</b> Centroids</a></li>
<li class="chapter" data-level="4.6" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#geometric-binary-predicates"><i class="fa fa-check"></i><b>4.6</b> Geometric binary predicates</a></li>
<li class="chapter" data-level="4.7" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#saving-results"><i class="fa fa-check"></i><b>4.7</b> Saving results</a><ul>
<li class="chapter" data-level="4.7.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#writing-data"><i class="fa fa-check"></i><b>4.7.1</b> Writing data</a></li>
<li class="chapter" data-level="4.7.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#check-data"><i class="fa fa-check"></i><b>4.7.2</b> Check data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html"><i class="fa fa-check"></i><b>5</b> Manipulating raster data</a><ul>
<li class="chapter" data-level="5.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#example-data"><i class="fa fa-check"></i><b>5.1</b> Example data</a></li>
<li class="chapter" data-level="5.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#map-algebra"><i class="fa fa-check"></i><b>5.2</b> Map algebra</a><ul>
<li class="chapter" data-level="5.2.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#local-operations"><i class="fa fa-check"></i><b>5.2.1</b> Local operations</a></li>
<li class="chapter" data-level="5.2.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#focal-operations"><i class="fa fa-check"></i><b>5.2.2</b> Focal operations</a></li>
<li class="chapter" data-level="5.2.3" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#zonal-operations"><i class="fa fa-check"></i><b>5.2.3</b> Zonal operations</a></li>
<li class="chapter" data-level="5.2.4" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#global-operations"><i class="fa fa-check"></i><b>5.2.4</b> Global operations</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#transformations"><i class="fa fa-check"></i><b>5.3</b> Transformations</a><ul>
<li class="chapter" data-level="5.3.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#resampling"><i class="fa fa-check"></i><b>5.3.1</b> Resampling</a></li>
<li class="chapter" data-level="5.3.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#reprojecting"><i class="fa fa-check"></i><b>5.3.2</b> Reprojecting</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-vector-interactions"><i class="fa fa-check"></i><b>5.4</b> Raster-vector interactions</a><ul>
<li class="chapter" data-level="5.4.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-cropping-and-masking"><i class="fa fa-check"></i><b>5.4.1</b> Raster cropping and masking</a></li>
<li class="chapter" data-level="5.4.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-extraction"><i class="fa fa-check"></i><b>5.4.2</b> Raster extraction</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-analysis"><i class="fa fa-check"></i><b>5.5</b> Raster analysis</a><ul>
<li class="chapter" data-level="5.5.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#predictions"><i class="fa fa-check"></i><b>5.5.1</b> Predictions</a></li>
<li class="chapter" data-level="5.5.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#segmentations"><i class="fa fa-check"></i><b>5.5.2</b> Segmentations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-writing"><i class="fa fa-check"></i><b>5.6</b> Raster writing</a></li>
<li class="chapter" data-level="5.7" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#exercises-1"><i class="fa fa-check"></i><b>5.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://roelandtn.frama.io/" target="blank">Nicolas Roelandt</a></li>
<li><a href="https://jakubnowosad.com/" target="blank">Jakub Nowosad</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Getting started with R and R-spatial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rspatial" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 2</span> Introduction to the R-spatial ecosystem<a href="rspatial.html#rspatial" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- (Jakub) Introduction to R-spatial ecosystem (20 min) -->
<div id="rs-spatial-ecosystems" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.1</span> R’s spatial ecosystem(s)<a href="rspatial.html#rs-spatial-ecosystems" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is a powerful language for geocomputation, allowing for:</p>
<ul>
<li>Exploratory data analysis (EDA)</li>
<li>Data processing (e.g., adding new variables)</li>
<li>Data transformation (e.g., changing CRS, reducing size via simplification/aggregation)</li>
<li>Data visualization</li>
<li>Web application development</li>
<li>Software development (e.g., to share new methods)</li>
</ul>
<p>There are many ways to handle geographic data in R, with several dozens of packages in the area.
It includes:</p>
<ul>
<li><a href="https://github.com/r-spatial/sf">{sf}</a>,
<a href="https://github.com/edzer/sp">{sp}</a>,
<a href="https://github.com/rspatial/terra">{terra}</a>,
<a href="https://github.com/rspatial/raster">{raster}</a>, <a href="https://github.com/r-spatial/stars">{stars}</a> - spatial classes</li>
<li><a href="https://github.com/tidyverse/dplyr">{dplyr}</a>, <a href="https://github.com/ateucher/rmapshaper">{rmapshaper}</a> - processing of attribute tables/geometries</li>
<li><a href="https://github.com/ropensci/rnaturalearth">{rnaturalearth}</a>, <a href="https://github.com/ropensci/osmdata">{osmdata}</a> - spatial data download</li>
<li><a href="https://github.com/rsbivand/rgrass">{rgrass}</a>, <a href="https://github.com/paleolimbot/qgisprocess">{qgisprocess}</a>, <a href="https://github.com/r-spatial/link2GI">{link2GI}</a> - connecting with GIS software</li>
<li><a href="https://github.com/r-spatial/gstat">{gstat}</a>, <a href="https://github.com/mlr-org/mlr3">{mlr3}</a>, <a href="https://github.com/HannaMeyer/CAST">{CAST}</a> - spatial data modeling</li>
<li><a href="https://github.com/oscarperpinan/rastervis">{rasterVis}</a>, <a href="https://github.com/mtennekes/tmap">{tmap}</a>, <a href="https://github.com/tidyverse/ggplot2">{ggplot2}</a> - static visualizations</li>
<li><a href="https://github.com/rstudio/leaflet">{leaflet}</a>, <a href="https://github.com/r-spatial/mapview">{mapview}</a>, <a href="https://github.com/SymbolixAU/mapdeck">{mapdeck}</a> - interactive visualizations</li>
<li><a href="http://spatstat.org/">{spatstat}</a>, <a href="https://github.com/r-spatial/spdep">{spdep}</a>, <a href="https://github.com/r-spatial/spatialreg">{spatialreg}</a>, <a href="https://github.com/rspatial/dismo">{dismo}</a>, <a href="https://github.com/r-spatialecology/landscapemetrics">{landscapemetrics}</a>, <a href="http://bleutner.github.io/RStoolbox/rstbx-docu/RStoolbox.html">{RStoolbox}</a>, <a href="https://github.com/tylermorganwall/rayshader">{rayshader}</a>, <a href="https://github.com/appelmar/gdalcubes_R">{gdalcubes}</a>, <a href="https://github.com/luukvdmeer/sfnetworks">{sfnetworks}</a> - different types of spatial data analysis</li>
<li>many more…</li>
</ul>
<p>Visit <a href="https://cran.r-project.org/view=Spatial" class="uri">https://cran.r-project.org/view=Spatial</a> to get an overview of different spatial tasks that can be solved using R.</p>
<p>We think it is helpful to start learning the R-spatial ecosystem by using its packages for spatial classes handling.
They offer capabilities to read/write spatial data, but also have many tools to process and transform the data.
The below figure shows the change in popularity of the main R packages for spatial data handling – in this workshop, we will focus on {sf} for working with spatial vector data and {terra} for working with spatial raster data.</p>
<div class="figure"><span style="display:block;" id="fig:03-intro-to-rspatial-1"></span>
<img src="https://geocompr.robinlovelace.net/figures/01-cranlogs.png" alt="Source: https://geocompr.robinlovelace.net"  />
<p class="caption">
Figure 2.1: Source: <a href="https://geocompr.robinlovelace.net" class="uri">https://geocompr.robinlovelace.net</a>
</p>
</div>
</div>
<div id="vector-data" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.2</span> Vector data<a href="rspatial.html#vector-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <a href="https://github.com/r-spatial/sf">{sf}</a> package based on the OGC standard Simple Features.
It allows to read, process, visualize, and write various spatial data files.
As you can see in Figure <a href="rspatial.html#fig:03-intro-to-rspatial-2">2.2</a>, the {sf} package does not exist in void.</p>
<div class="figure"><span style="display:block;" id="fig:03-intro-to-rspatial-2"></span>
<img src="https://keen-swartz-3146c4.netlify.com/images/sf_deps.png" alt="Source: https://www.r-spatial.org/r/2020/03/17/wkt.html"  />
<p class="caption">
Figure 2.2: Source: <a href="https://www.r-spatial.org/r/2020/03/17/wkt.html" class="uri">https://www.r-spatial.org/r/2020/03/17/wkt.html</a>
</p>
</div>
<p>First, it is built upon several external libraries, including GDAL, PROJ, GEOS, and s2geometry.
Second, it uses several R packages, such as {s2}, {units}, {DBI}.
Third, it is a basis of a few hundred of other R packages.</p>
<p>{sf} represent all common vector geometry types (Figure <a href="rspatial.html#fig:03-intro-to-rspatial-4">2.3</a>): points, lines, polygons and their respective ‘multi’ versions.
It also also supports geometry collections.</p>
<div class="figure"><span style="display:block;" id="fig:03-intro-to-rspatial-4"></span>
<img src="figs/sf-classes.png" alt="Source: https://geocompr.robinlovelace.net/spatial-class.html?q=sf%20classes#intro-sf" width="90%" />
<p class="caption">
Figure 2.3: Source: <a href="https://geocompr.robinlovelace.net/spatial-class.html?q=sf%20classes#intro-sf" class="uri">https://geocompr.robinlovelace.net/spatial-class.html?q=sf%20classes#intro-sf</a>
</p>
</div>
<p>Most of the functions in this package start with a prefix <code>st_</code>:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="rspatial.html#cb49-1"></a><span class="kw">library</span>(sf)</span></code></pre></div>
<pre><code>## Linking to GEOS 3.10.2, GDAL 3.4.2, PROJ 7.2.0; sf_use_s2() is TRUE</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="rspatial.html#cb51-1"></a><span class="kw">ls</span>(<span class="st">&quot;package:sf&quot;</span>)</span></code></pre></div>
<pre><code>##   [1] &quot;%&gt;%&quot;                          &quot;as_Spatial&quot;                  
##   [3] &quot;dbDataType&quot;                   &quot;dbWriteTable&quot;                
##   [5] &quot;gdal_addo&quot;                    &quot;gdal_create&quot;                 
##   [7] &quot;gdal_crs&quot;                     &quot;gdal_extract&quot;                
##   [9] &quot;gdal_inv_geotransform&quot;        &quot;gdal_metadata&quot;               
##  [11] &quot;gdal_polygonize&quot;              &quot;gdal_rasterize&quot;              
##  [13] &quot;gdal_read&quot;                    &quot;gdal_read_mdim&quot;              
##  [15] &quot;gdal_subdatasets&quot;             &quot;gdal_utils&quot;                  
##  [17] &quot;gdal_write&quot;                   &quot;gdal_write_mdim&quot;             
##  [19] &quot;get_key_pos&quot;                  &quot;NA_agr_&quot;                     
##  [21] &quot;NA_bbox_&quot;                     &quot;NA_crs_&quot;                     
##  [23] &quot;NA_m_range_&quot;                  &quot;NA_z_range_&quot;                 
##  [25] &quot;pivot_wider.sf&quot;               &quot;plot_sf&quot;                     
##  [27] &quot;rawToHex&quot;                     &quot;read_sf&quot;                     
##  [29] &quot;sf_add_proj_units&quot;            &quot;sf_extSoftVersion&quot;           
##  [31] &quot;sf_proj_info&quot;                 &quot;sf_proj_network&quot;             
##  [33] &quot;sf_proj_pipelines&quot;            &quot;sf_proj_search_paths&quot;        
##  [35] &quot;sf_project&quot;                   &quot;sf_use_s2&quot;                   
##  [37] &quot;sf.colors&quot;                    &quot;st_agr&quot;                      
##  [39] &quot;st_agr&lt;-&quot;                     &quot;st_area&quot;                     
##  [41] &quot;st_as_binary&quot;                 &quot;st_as_grob&quot;                  
##  [43] &quot;st_as_s2&quot;                     &quot;st_as_sf&quot;                    
##  [45] &quot;st_as_sfc&quot;                    &quot;st_as_text&quot;                  
##  [47] &quot;st_axis_order&quot;                &quot;st_bbox&quot;                     
##  [49] &quot;st_bind_cols&quot;                 &quot;st_boundary&quot;                 
##  [51] &quot;st_buffer&quot;                    &quot;st_cast&quot;                     
##  [53] &quot;st_centroid&quot;                  &quot;st_collection_extract&quot;       
##  [55] &quot;st_combine&quot;                   &quot;st_contains&quot;                 
##  [57] &quot;st_contains_properly&quot;         &quot;st_convex_hull&quot;              
##  [59] &quot;st_coordinates&quot;               &quot;st_covered_by&quot;               
##  [61] &quot;st_covers&quot;                    &quot;st_crop&quot;                     
##  [63] &quot;st_crosses&quot;                   &quot;st_crs&quot;                      
##  [65] &quot;st_crs&lt;-&quot;                     &quot;st_delete&quot;                   
##  [67] &quot;st_difference&quot;                &quot;st_dimension&quot;                
##  [69] &quot;st_disjoint&quot;                  &quot;st_distance&quot;                 
##  [71] &quot;st_drivers&quot;                   &quot;st_drop_geometry&quot;            
##  [73] &quot;st_equals&quot;                    &quot;st_equals_exact&quot;             
##  [75] &quot;st_filter&quot;                    &quot;st_geometry&quot;                 
##  [77] &quot;st_geometry_type&quot;             &quot;st_geometry&lt;-&quot;               
##  [79] &quot;st_geometrycollection&quot;        &quot;st_graticule&quot;                
##  [81] &quot;st_inscribed_circle&quot;          &quot;st_interpolate_aw&quot;           
##  [83] &quot;st_intersection&quot;              &quot;st_intersects&quot;               
##  [85] &quot;st_is&quot;                        &quot;st_is_empty&quot;                 
##  [87] &quot;st_is_longlat&quot;                &quot;st_is_simple&quot;                
##  [89] &quot;st_is_valid&quot;                  &quot;st_is_within_distance&quot;       
##  [91] &quot;st_jitter&quot;                    &quot;st_join&quot;                     
##  [93] &quot;st_layers&quot;                    &quot;st_length&quot;                   
##  [95] &quot;st_line_merge&quot;                &quot;st_line_sample&quot;              
##  [97] &quot;st_linestring&quot;                &quot;st_m_range&quot;                  
##  [99] &quot;st_make_grid&quot;                 &quot;st_make_valid&quot;               
## [101] &quot;st_minimum_rotated_rectangle&quot; &quot;st_multilinestring&quot;          
## [103] &quot;st_multipoint&quot;                &quot;st_multipolygon&quot;             
## [105] &quot;st_nearest_feature&quot;           &quot;st_nearest_points&quot;           
## [107] &quot;st_node&quot;                      &quot;st_normalize&quot;                
## [109] &quot;st_overlaps&quot;                  &quot;st_point&quot;                    
## [111] &quot;st_point_on_surface&quot;          &quot;st_polygon&quot;                  
## [113] &quot;st_polygonize&quot;                &quot;st_precision&quot;                
## [115] &quot;st_precision&lt;-&quot;               &quot;st_read&quot;                     
## [117] &quot;st_read_db&quot;                   &quot;st_relate&quot;                   
## [119] &quot;st_reverse&quot;                   &quot;st_sample&quot;                   
## [121] &quot;st_segmentize&quot;                &quot;st_set_agr&quot;                  
## [123] &quot;st_set_crs&quot;                   &quot;st_set_geometry&quot;             
## [125] &quot;st_set_precision&quot;             &quot;st_sf&quot;                       
## [127] &quot;st_sfc&quot;                       &quot;st_shift_longitude&quot;          
## [129] &quot;st_simplify&quot;                  &quot;st_snap&quot;                     
## [131] &quot;st_sym_difference&quot;            &quot;st_touches&quot;                  
## [133] &quot;st_transform&quot;                 &quot;st_triangulate&quot;              
## [135] &quot;st_union&quot;                     &quot;st_viewport&quot;                 
## [137] &quot;st_voronoi&quot;                   &quot;st_within&quot;                   
## [139] &quot;st_wrap_dateline&quot;             &quot;st_write&quot;                    
## [141] &quot;st_write_db&quot;                  &quot;st_z_range&quot;                  
## [143] &quot;st_zm&quot;                        &quot;vec_cast.sfc&quot;                
## [145] &quot;vec_ptype2.sfc&quot;               &quot;write_sf&quot;</code></pre>
<p>Most often, the first step in spatial data analysis in R is to read the data.
Here, we will read example file stored in the {spData} package:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="rspatial.html#cb53-1"></a>file_path =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;shapes/world.gpkg&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spData&quot;</span>)</span>
<span id="cb53-2"><a href="rspatial.html#cb53-2"></a>file_path</span></code></pre></div>
<pre><code>## [1] &quot;/Users/runner/work/_temp/Library/spData/shapes/world.gpkg&quot;</code></pre>
<p>To read a spatial vector file, we just need to provide a file path to the <code>read_sf()</code> function:<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="rspatial.html#cb55-1"></a>world =<span class="st"> </span><span class="kw">read_sf</span>(file_path)</span></code></pre></div>
<p>Our new object is an extended data frame with several non-spatial attributes and one special column <code>geom</code>.
When we print the object, it also provides a header with some basic spatial information:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="rspatial.html#cb56-1"></a>world</span></code></pre></div>
<pre><code>## Simple feature collection with 177 features and 10 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -180 ymin: -89.9 xmax: 180 ymax: 83.64513
## Geodetic CRS:  WGS 84
## # A tibble: 177 × 11
##    iso_a2 name_l…¹ conti…² regio…³ subre…⁴ type  area_…⁵     pop lifeExp gdpPe…⁶
##    &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 FJ     Fiji     Oceania Oceania Melane… Sove…  1.93e4  8.86e5    70.0   8222.
##  2 TZ     Tanzania Africa  Africa  Easter… Sove…  9.33e5  5.22e7    64.2   2402.
##  3 EH     Western… Africa  Africa  Northe… Inde…  9.63e4 NA         NA       NA 
##  4 CA     Canada   North … Americ… Northe… Sove…  1.00e7  3.55e7    82.0  43079.
##  5 US     United … North … Americ… Northe… Coun…  9.51e6  3.19e8    78.8  51922.
##  6 KZ     Kazakhs… Asia    Asia    Centra… Sove…  2.73e6  1.73e7    71.6  23587.
##  7 UZ     Uzbekis… Asia    Asia    Centra… Sove…  4.61e5  3.08e7    71.0   5371.
##  8 PG     Papua N… Oceania Oceania Melane… Sove…  4.65e5  7.76e6    65.2   3709.
##  9 ID     Indones… Asia    Asia    South-… Sove…  1.82e6  2.55e8    68.9  10003.
## 10 AR     Argenti… South … Americ… South … Sove…  2.78e6  4.30e7    76.3  18798.
## # … with 167 more rows, 1 more variable: geom &lt;MULTIPOLYGON [°]&gt;, and
## #   abbreviated variable names ¹​name_long, ²​continent, ³​region_un, ⁴​subregion,
## #   ⁵​area_km2, ⁶​gdpPercap</code></pre>
<p>It is also possible to extract all of the spatial information with several specific functions.
For example, <code>st_crs()</code> is used to get information about the coordinate reference system of the given object:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="rspatial.html#cb58-1"></a><span class="kw">st_crs</span>(world)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: WGS 84 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     DATUM[&quot;World Geodetic System 1984&quot;,
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;World.&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p>We can even extract different CRS definition with:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="rspatial.html#cb60-1"></a><span class="kw">st_crs</span>(world)<span class="op">$</span>wkt</span></code></pre></div>
<pre><code>## [1] &quot;GEOGCRS[\&quot;WGS 84\&quot;,\n    DATUM[\&quot;World Geodetic System 1984\&quot;,\n        ELLIPSOID[\&quot;WGS 84\&quot;,6378137,298.257223563,\n            LENGTHUNIT[\&quot;metre\&quot;,1]]],\n    PRIMEM[\&quot;Greenwich\&quot;,0,\n        ANGLEUNIT[\&quot;degree\&quot;,0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\&quot;geodetic latitude (Lat)\&quot;,north,\n            ORDER[1],\n            ANGLEUNIT[\&quot;degree\&quot;,0.0174532925199433]],\n        AXIS[\&quot;geodetic longitude (Lon)\&quot;,east,\n            ORDER[2],\n            ANGLEUNIT[\&quot;degree\&quot;,0.0174532925199433]],\n    USAGE[\n        SCOPE[\&quot;Horizontal component of 3D system.\&quot;],\n        AREA[\&quot;World.\&quot;],\n        BBOX[-90,-180,90,180]],\n    ID[\&quot;EPSG\&quot;,4326]]&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="rspatial.html#cb62-1"></a><span class="kw">st_crs</span>(world)<span class="op">$</span>srid</span></code></pre></div>
<pre><code>## [1] &quot;EPSG:4326&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="rspatial.html#cb64-1"></a><span class="kw">st_crs</span>(world)<span class="op">$</span>proj4string</span></code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre>
<p>We can quickly plot the object with the <code>plot()</code> function:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="rspatial.html#cb66-1"></a><span class="kw">plot</span>(world)</span></code></pre></div>
<pre><code>## Warning: plotting the first 9 out of 10 attributes; use max.plot = 10 to plot
## all</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Let’s move to a different data example.
What to do when our data is stored in a text file (instead of a spatial file format)?
Then, we can read it as a regular data frame with <code>read.csv</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="rspatial.html#cb68-1"></a>cycle_hire_path =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;misc/cycle_hire_xy.csv&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spData&quot;</span>)</span>
<span id="cb68-2"><a href="rspatial.html#cb68-2"></a>cycle_hire_txt =<span class="st"> </span><span class="kw">read.csv</span>(cycle_hire_path)</span>
<span id="cb68-3"><a href="rspatial.html#cb68-3"></a><span class="kw">head</span>(cycle_hire_txt)</span></code></pre></div>
<pre><code>##             X        Y id               name             area nbikes nempty
## 1 -0.10997053 51.52916  1       River Street      Clerkenwell      4     14
## 2 -0.19757425 51.49961  2 Phillimore Gardens       Kensington      2     34
## 3 -0.08460569 51.52128  3 Christopher Street Liverpool Street      0     32
## 4 -0.12097369 51.53006  4  St. Chad&#39;s Street     King&#39;s Cross      4     19
## 5 -0.15687600 51.49313  5     Sedding Street    Sloane Square     15     12
## 6 -0.14422888 51.51812  6 Broadcasting House       Marylebone      0     18</code></pre>
<p>Next, we need to convert it into a spatial {sf} object with <code>st_as_sf()</code> by providing which columns contain coordinates, and what is the CRS of the data:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="rspatial.html#cb70-1"></a>cycle_hire_xy =<span class="st"> </span><span class="kw">st_as_sf</span>(cycle_hire_txt, <span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>), <span class="dt">crs =</span> <span class="st">&quot;EPSG:4326&quot;</span>)</span>
<span id="cb70-2"><a href="rspatial.html#cb70-2"></a>cycle_hire_xy</span></code></pre></div>
<pre><code>## Simple feature collection with 742 features and 5 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -0.2367699 ymin: 51.45475 xmax: -0.002275 ymax: 51.54214
## Geodetic CRS:  WGS 84
## First 10 features:
##    id               name             area nbikes nempty
## 1   1       River Street      Clerkenwell      4     14
## 2   2 Phillimore Gardens       Kensington      2     34
## 3   3 Christopher Street Liverpool Street      0     32
## 4   4  St. Chad&#39;s Street     King&#39;s Cross      4     19
## 5   5     Sedding Street    Sloane Square     15     12
## 6   6 Broadcasting House       Marylebone      0     18
## 7   7   Charlbert Street  St. John&#39;s Wood     15      0
## 8   8         Lodge Road  St. John&#39;s Wood      5     13
## 9   9     New Globe Walk         Bankside      3     16
## 10 10        Park Street         Bankside      1     17
##                        geometry
## 1   POINT (-0.1099705 51.52916)
## 2   POINT (-0.1975742 51.49961)
## 3  POINT (-0.08460569 51.52128)
## 4   POINT (-0.1209737 51.53006)
## 5    POINT (-0.156876 51.49313)
## 6   POINT (-0.1442289 51.51812)
## 7    POINT (-0.1680743 51.5343)
## 8   POINT (-0.1701345 51.52834)
## 9  POINT (-0.09644075 51.50739)
## 10 POINT (-0.09275416 51.50597)</code></pre>
<p>Now, we are able to plot and analyse the data:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="rspatial.html#cb72-1"></a><span class="kw">plot</span>(cycle_hire_xy)</span></code></pre></div>
<p><img src="_main_files/figure-html/03-intro-to-rspatial-16-1.png" width="672" /></p>
<p>We will give more example of the {sf} use in Chapter <a href="manipulating-vector-data.html#manipulating-vector-data">4</a>.
To learn more read <a href="https://journal.r-project.org/archive/2018/RJ-2018-009/RJ-2018-009.pdf" class="uri">https://journal.r-project.org/archive/2018/RJ-2018-009/RJ-2018-009.pdf</a> and visit <a href="https://r-spatial.github.io/sf/" class="uri">https://r-spatial.github.io/sf/</a>.</p>
</div>
<div id="raster-data" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.3</span> Raster data<a href="rspatial.html#raster-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <a href="https://github.com/rspatial/terra">{terra}</a> package contains classes and methods representing raster objects and operations.
It allows raster data to be loaded and saved, provides raster algebra and raster processing, and includes a number of additional functions, e.g., for analysis of terrain characteristics.
It also works well on large sets of data.</p>
<p>Similarly to {sf}, {terra} also uses many external libraries, but also enables many R packages (Figure <a href="rspatial.html#fig:03-intro-to-rspatial-17">2.4</a>).</p>
<div class="figure"><span style="display:block;" id="fig:03-intro-to-rspatial-17"></span>
<img src="figs/terra-libs.png" alt="{terra} libraries" width="750" />
<p class="caption">
Figure 2.4: {terra} libraries
</p>
</div>
<!-- The reference does not work. maybe because it lacks a caption ?-->
<p>To read a spatial raster file, we just need to provide its file path to the <code>rast()</code> function:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="rspatial.html#cb73-1"></a><span class="kw">library</span>(terra)</span></code></pre></div>
<pre><code>## terra 1.6.9</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="rspatial.html#cb75-1"></a>raster_filepath =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;raster/srtm.tif&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spDataLarge&quot;</span>)</span>
<span id="cb75-2"><a href="rspatial.html#cb75-2"></a>new_raster =<span class="st"> </span><span class="kw">rast</span>(raster_filepath)</span></code></pre></div>
<p>Now, we can look at the summary of our data by typing the object’s name:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="rspatial.html#cb76-1"></a>new_raster</span></code></pre></div>
<pre><code>## class       : SpatRaster 
## dimensions  : 457, 465, 1  (nrow, ncol, nlyr)
## resolution  : 0.0008333333, 0.0008333333  (x, y)
## extent      : -113.2396, -112.8521, 37.13208, 37.51292  (xmin, xmax, ymin, ymax)
## coord. ref. : lon/lat WGS 84 (EPSG:4326) 
## source      : srtm.tif 
## name        : srtm 
## min value   : 1024 
## max value   : 2892</code></pre>
<p>It provides us information about the raster dimensions, resolution, CRS, etc.
<code>crs()</code> is used to get information about the coordinate reference system of the given {terra} object:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="rspatial.html#cb78-1"></a><span class="kw">crs</span>(new_raster)</span></code></pre></div>
<pre><code>## [1] &quot;GEOGCRS[\&quot;WGS 84\&quot;,\n    DATUM[\&quot;World Geodetic System 1984\&quot;,\n        ELLIPSOID[\&quot;WGS 84\&quot;,6378137,298.257223563,\n            LENGTHUNIT[\&quot;metre\&quot;,1]]],\n    PRIMEM[\&quot;Greenwich\&quot;,0,\n        ANGLEUNIT[\&quot;degree\&quot;,0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\&quot;geodetic latitude (Lat)\&quot;,north,\n            ORDER[1],\n            ANGLEUNIT[\&quot;degree\&quot;,0.0174532925199433]],\n        AXIS[\&quot;geodetic longitude (Lon)\&quot;,east,\n            ORDER[2],\n            ANGLEUNIT[\&quot;degree\&quot;,0.0174532925199433]],\n    ID[\&quot;EPSG\&quot;,4326]]&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="rspatial.html#cb80-1"></a><span class="kw">crs</span>(new_raster, <span class="dt">describe =</span> <span class="ot">TRUE</span>, <span class="dt">proj =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>##     name authority code area         extent                                proj
## 1 WGS 84      EPSG 4326 &lt;NA&gt; NA, NA, NA, NA +proj=longlat +datum=WGS84 +no_defs</code></pre>
<p>We are also able to create quick visualization with <code>plot()</code>:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="rspatial.html#cb82-1"></a><span class="kw">plot</span>(new_raster)</span></code></pre></div>
<p><img src="_main_files/figure-html/03-intro-to-rspatial-19-1.png" width="672" /></p>
<p>The {terra} package also supports multi-layered raster files.
For example, the <code>landsat.tif</code> file has four bands:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="rspatial.html#cb83-1"></a>raster_filepath2 =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;raster/landsat.tif&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spDataLarge&quot;</span>)</span>
<span id="cb83-2"><a href="rspatial.html#cb83-2"></a>new_raster2 =<span class="st"> </span><span class="kw">rast</span>(raster_filepath2)</span>
<span id="cb83-3"><a href="rspatial.html#cb83-3"></a><span class="kw">plot</span>(new_raster2)</span></code></pre></div>
<p><img src="_main_files/figure-html/03-intro-to-rspatial-24-1.png" width="672" /></p>
<p>In this case, we are also able to plot three layers with <code>plotRGB()</code>:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="rspatial.html#cb84-1"></a><span class="kw">plotRGB</span>(new_raster2, <span class="dt">r =</span> <span class="dv">3</span>, <span class="dt">g =</span> <span class="dv">2</span>, <span class="dt">b =</span> <span class="dv">1</span>, <span class="dt">stretch =</span> <span class="st">&quot;lin&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/03-intro-to-rspatial-25-1.png" width="672" /></p>
<p>Sometimes, we want to create a raster from scratch.
This is also possible with the <code>rast()</code> function:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="rspatial.html#cb85-1"></a>my_raster =<span class="st"> </span><span class="kw">rast</span>(<span class="dt">nrows =</span> <span class="dv">10</span>, <span class="dt">ncols =</span> <span class="dv">20</span>, <span class="dt">xmin =</span> <span class="dv">0</span>, <span class="dt">xmax =</span> <span class="dv">20</span>, <span class="dt">ymin =</span> <span class="dv">-10</span>, <span class="dt">ymax =</span> <span class="dv">0</span>,</span>
<span id="cb85-2"><a href="rspatial.html#cb85-2"></a>                 <span class="dt">crs =</span> <span class="st">&quot;EPSG:4326&quot;</span>, <span class="dt">vals =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">200</span>)</span>
<span id="cb85-3"><a href="rspatial.html#cb85-3"></a>my_raster</span></code></pre></div>
<pre><code>## class       : SpatRaster 
## dimensions  : 10, 20, 1  (nrow, ncol, nlyr)
## resolution  : 1, 1  (x, y)
## extent      : 0, 20, -10, 0  (xmin, xmax, ymin, ymax)
## coord. ref. : lon/lat WGS 84 (EPSG:4326) 
## source      : memory 
## name        : lyr.1 
## min value   :     1 
## max value   :   200</code></pre>
<p>Let’s plot our new object:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="rspatial.html#cb87-1"></a><span class="kw">plot</span>(my_raster)</span></code></pre></div>
<p><img src="_main_files/figure-html/03-intro-to-rspatial-27-1.png" width="672" /></p>
<p>We will give more example of the {terra} use in Chapter <a href="manipulating-raster-data.html#manipulating-raster-data">5</a>.
To learn more about the package type <code>?terra</code> or visit <a href="https://rspatial.github.io/terra/reference/terra-package.html" class="uri">https://rspatial.github.io/terra/reference/terra-package.html</a>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>There is also a second similar function allowing to read spatial vector files called <code>st_read()</code>.<a href="rspatial.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-handling-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="making-maps-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Bakaniko/foss4g2022-getting-started-rspatial/edit/main/03-intro-to-rspatial.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
