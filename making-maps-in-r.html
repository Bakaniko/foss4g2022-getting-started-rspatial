<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Making maps in R | Getting started with R and R-spatial</title>
  <meta name="description" content="Teaching materials for R and R-spatial introduction workshop at FOSS4G2022." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Making maps in R | Getting started with R and R-spatial" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Teaching materials for R and R-spatial introduction workshop at FOSS4G2022." />
  <meta name="github-repo" content="Bakaniko/foss4g2022-getting-started-rspatial" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Making maps in R | Getting started with R and R-spatial" />
  
  <meta name="twitter:description" content="Teaching materials for R and R-spatial introduction workshop at FOSS4G2022." />
  

<meta name="author" content="Nicolas Roelandt and Jakub Nowosad" />


<meta name="date" content="2022-08-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rspatial.html"/>
<link rel="next" href="manipulating-vector-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<script src="libs/leaflet-graticule-0.1.0/L.Graticule.js"></script>
<script src="libs/leaflet-graticule-0.1.0/Graticule-binding.js"></script>
<link href="libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet" />
<script src="libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script>
<script src="libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Getting started with R and R-spatial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#pre-requisites"><i class="fa fa-check"></i>Pre-requisites</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-is-love-r"><i class="fa fa-check"></i>What is <del>love</del> R ?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#why-an-r-workshop-in-a-foss4g-conference"><i class="fa fa-check"></i>Why an R workshop in a FOSS4G conference ?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#coding-paradigms"><i class="fa fa-check"></i>Coding paradigms</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html"><i class="fa fa-check"></i><b>1</b> Data handling with R</a><ul>
<li class="chapter" data-level="1.1" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#data-types"><i class="fa fa-check"></i><b>1.1</b> Data types</a></li>
<li class="chapter" data-level="1.2" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#assignment"><i class="fa fa-check"></i><b>1.2</b> Assignment</a></li>
<li class="chapter" data-level="1.3" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#not-only-a-calculator"><i class="fa fa-check"></i><b>1.3</b> Not only a calculator</a></li>
<li class="chapter" data-level="1.4" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#packages"><i class="fa fa-check"></i><b>1.4</b> Packages</a></li>
<li class="chapter" data-level="1.5" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#load-data"><i class="fa fa-check"></i><b>1.5</b> Load data</a></li>
<li class="chapter" data-level="1.6" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#in-the-beginning-was-the-verb"><i class="fa fa-check"></i><b>1.6</b> In the beginning was the Verb</a></li>
<li class="chapter" data-level="1.7" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#filter-data"><i class="fa fa-check"></i><b>1.7</b> Filter data</a><ul>
<li class="chapter" data-level="" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#exercice"><i class="fa fa-check"></i>Exercice</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#select-columns"><i class="fa fa-check"></i><b>1.8</b> Select columns</a></li>
<li class="chapter" data-level="1.9" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#create-new-variables"><i class="fa fa-check"></i><b>1.9</b> Create new variables</a></li>
<li class="chapter" data-level="1.10" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#agregate-data"><i class="fa fa-check"></i><b>1.10</b> Agregate data</a></li>
<li class="chapter" data-level="1.11" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#join-data"><i class="fa fa-check"></i><b>1.11</b> Join data</a></li>
<li class="chapter" data-level="1.12" data-path="data-handling-with-r.html"><a href="data-handling-with-r.html#piping"><i class="fa fa-check"></i><b>1.12</b> Piping</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rspatial.html"><a href="rspatial.html"><i class="fa fa-check"></i><b>2</b> Introduction to the R-spatial ecosystem</a><ul>
<li class="chapter" data-level="2.1" data-path="rspatial.html"><a href="rspatial.html#rs-spatial-ecosystems"><i class="fa fa-check"></i><b>2.1</b> R’s spatial ecosystem(s)</a></li>
<li class="chapter" data-level="2.2" data-path="rspatial.html"><a href="rspatial.html#vector-data"><i class="fa fa-check"></i><b>2.2</b> Vector data</a></li>
<li class="chapter" data-level="2.3" data-path="rspatial.html"><a href="rspatial.html#raster-data"><i class="fa fa-check"></i><b>2.3</b> Raster data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html"><i class="fa fa-check"></i><b>3</b> Making maps in R</a><ul>
<li class="chapter" data-level="3.1" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#mapping-tools-in-r"><i class="fa fa-check"></i><b>3.1</b> Mapping tools in R</a></li>
<li class="chapter" data-level="3.2" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#basic-example"><i class="fa fa-check"></i><b>3.2</b> Basic example</a></li>
<li class="chapter" data-level="3.3" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#shapes-and-layers"><i class="fa fa-check"></i><b>3.3</b> Shapes and layers</a></li>
<li class="chapter" data-level="3.4" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#attributes-layers"><i class="fa fa-check"></i><b>3.4</b> Attributes layers</a></li>
<li class="chapter" data-level="3.5" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#other-map-elements"><i class="fa fa-check"></i><b>3.5</b> Other map elements</a></li>
<li class="chapter" data-level="3.6" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#interactive-mode"><i class="fa fa-check"></i><b>3.6</b> Interactive mode</a></li>
<li class="chapter" data-level="3.7" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#saving-maps"><i class="fa fa-check"></i><b>3.7</b> Saving maps</a></li>
<li class="chapter" data-level="3.8" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#what-else"><i class="fa fa-check"></i><b>3.8</b> What else?</a></li>
<li class="chapter" data-level="3.9" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#more-resources"><i class="fa fa-check"></i><b>3.9</b> More resources</a></li>
<li class="chapter" data-level="3.10" data-path="making-maps-in-r.html"><a href="making-maps-in-r.html#exercises"><i class="fa fa-check"></i><b>3.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html"><i class="fa fa-check"></i><b>4</b> Manipulating vector data</a><ul>
<li class="chapter" data-level="4.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#read-spatial-data"><i class="fa fa-check"></i><b>4.1</b> Read spatial data</a><ul>
<li class="chapter" data-level="4.1.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#cycle-hire-dataset"><i class="fa fa-check"></i><b>4.1.1</b> Cycle hire dataset</a></li>
<li class="chapter" data-level="4.1.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#boroughs-of-london"><i class="fa fa-check"></i><b>4.1.2</b> Boroughs of London</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#reprojection"><i class="fa fa-check"></i><b>4.2</b> Reprojection</a></li>
<li class="chapter" data-level="4.3" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#joins"><i class="fa fa-check"></i><b>4.3</b> Joins</a><ul>
<li class="chapter" data-level="4.3.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#join-by-attributes"><i class="fa fa-check"></i><b>4.3.1</b> Join by attributes</a></li>
<li class="chapter" data-level="4.3.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#spatial-join"><i class="fa fa-check"></i><b>4.3.2</b> Spatial join</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#aggregation"><i class="fa fa-check"></i><b>4.4</b> Aggregation</a><ul>
<li class="chapter" data-level="4.4.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#count"><i class="fa fa-check"></i><b>4.4.1</b> Count</a></li>
<li class="chapter" data-level="4.4.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#sum"><i class="fa fa-check"></i><b>4.4.2</b> Sum</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#centroids"><i class="fa fa-check"></i><b>4.5</b> Centroids</a></li>
<li class="chapter" data-level="4.6" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#geometric-binary-predicates"><i class="fa fa-check"></i><b>4.6</b> Geometric binary predicates</a></li>
<li class="chapter" data-level="4.7" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#saving-results"><i class="fa fa-check"></i><b>4.7</b> Saving results</a><ul>
<li class="chapter" data-level="4.7.1" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#writing-data"><i class="fa fa-check"></i><b>4.7.1</b> Writing data</a></li>
<li class="chapter" data-level="4.7.2" data-path="manipulating-vector-data.html"><a href="manipulating-vector-data.html#check-data"><i class="fa fa-check"></i><b>4.7.2</b> Check data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html"><i class="fa fa-check"></i><b>5</b> Manipulating raster data</a><ul>
<li class="chapter" data-level="5.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#example-data"><i class="fa fa-check"></i><b>5.1</b> Example data</a></li>
<li class="chapter" data-level="5.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#map-algebra"><i class="fa fa-check"></i><b>5.2</b> Map algebra</a><ul>
<li class="chapter" data-level="5.2.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#local-operations"><i class="fa fa-check"></i><b>5.2.1</b> Local operations</a></li>
<li class="chapter" data-level="5.2.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#focal-operations"><i class="fa fa-check"></i><b>5.2.2</b> Focal operations</a></li>
<li class="chapter" data-level="5.2.3" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#zonal-operations"><i class="fa fa-check"></i><b>5.2.3</b> Zonal operations</a></li>
<li class="chapter" data-level="5.2.4" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#global-operations"><i class="fa fa-check"></i><b>5.2.4</b> Global operations</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#transformations"><i class="fa fa-check"></i><b>5.3</b> Transformations</a><ul>
<li class="chapter" data-level="5.3.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#resampling"><i class="fa fa-check"></i><b>5.3.1</b> Resampling</a></li>
<li class="chapter" data-level="5.3.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#reprojecting"><i class="fa fa-check"></i><b>5.3.2</b> Reprojecting</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-vector-interactions"><i class="fa fa-check"></i><b>5.4</b> Raster-vector interactions</a><ul>
<li class="chapter" data-level="5.4.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-cropping-and-masking"><i class="fa fa-check"></i><b>5.4.1</b> Raster cropping and masking</a></li>
<li class="chapter" data-level="5.4.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-extraction"><i class="fa fa-check"></i><b>5.4.2</b> Raster extraction</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-analysis"><i class="fa fa-check"></i><b>5.5</b> Raster analysis</a><ul>
<li class="chapter" data-level="5.5.1" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#predictions"><i class="fa fa-check"></i><b>5.5.1</b> Predictions</a></li>
<li class="chapter" data-level="5.5.2" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#segmentations"><i class="fa fa-check"></i><b>5.5.2</b> Segmentations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#raster-writing"><i class="fa fa-check"></i><b>5.6</b> Raster writing</a></li>
<li class="chapter" data-level="5.7" data-path="manipulating-raster-data.html"><a href="manipulating-raster-data.html#exercises-1"><i class="fa fa-check"></i><b>5.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://roelandtn.frama.io/" target="blank">Nicolas Roelandt</a></li>
<li><a href="https://jakubnowosad.com/" target="blank">Jakub Nowosad</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Getting started with R and R-spatial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="making-maps-in-r" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 3</span> Making maps in R<a href="making-maps-in-r.html#making-maps-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- (Jakub) Mapping in R with {tmap} (30 min) -->
<p>This chapter requires the following packages:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="making-maps-in-r.html#cb91-1"></a><span class="kw">library</span>(tmap)</span>
<span id="cb91-2"><a href="making-maps-in-r.html#cb91-2"></a><span class="kw">library</span>(sf)</span>
<span id="cb91-3"><a href="making-maps-in-r.html#cb91-3"></a><span class="kw">library</span>(terra)</span></code></pre></div>
<p>Additionally, we will use three datasets:</p>
<ul>
<li><code>nz</code>: a set of polygons representing 16 regions of New Zealand</li>
<li><code>nz_ports</code>: a point dataset with locations of New Zealand main ports</li>
<li><code>nz_elev</code>: an elevation raster data of the New Zealand area</li>
</ul>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="making-maps-in-r.html#cb92-1"></a><span class="kw">library</span>(spData)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;spData&#39;</code></pre>
<pre><code>## The following object is masked _by_ &#39;.GlobalEnv&#39;:
## 
##     world</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="making-maps-in-r.html#cb95-1"></a><span class="kw">data</span>(<span class="st">&quot;nz&quot;</span>)</span>
<span id="cb95-2"><a href="making-maps-in-r.html#cb95-2"></a>nz_ports &lt;-<span class="st"> </span><span class="kw">read_sf</span>(<span class="st">&quot;data/nz_ports.gpkg&quot;</span>)</span>
<span id="cb95-3"><a href="making-maps-in-r.html#cb95-3"></a>nz_elev &lt;-<span class="st"> </span><span class="kw">rast</span>(<span class="kw">system.file</span>(<span class="st">&quot;raster/nz_elev.tif&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spDataLarge&quot;</span>))</span></code></pre></div>
<div id="mapping-tools-in-r" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.1</span> Mapping tools in R<a href="making-maps-in-r.html#mapping-tools-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R has many packages dedicated to spatial data visualizations.
They include tools for making both static maps, interactive maps, specific-purpose maps, animations, etc.</p>
<p>Packages for creating static maps include {graphics}, {rasterVis}, {ggplot2}, {ggspatial}, {mapsf}, {**}tidyterra}, etc.
Interactive maps’ packages are, for example, {leaflet}, {mapview}, {mapdeck}.
Specific-purpose mapping can be achieved with {cartogram} (to construct area cartograms), {geofacet} (“geofaceting”), {geogrid} (to turn polygons into regular or hexagonal grids), and {rayshader} (raytracing to produce 2D and 3D data visualizations).</p>
<p>In this workshop, we will focus on the {tmap} package.
It accepts spatial data in various formats, allows to create static and interactive maps, and makes it possible to create small multiples map and map animations.</p>
</div>
<div id="basic-example" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.2</span> Basic example<a href="making-maps-in-r.html#basic-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The code below shows a basic example of the {tmap} use:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="making-maps-in-r.html#cb96-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb96-2"><a href="making-maps-in-r.html#cb96-2"></a><span class="st">  </span><span class="kw">tm_graticules</span>() <span class="op">+</span></span>
<span id="cb96-3"><a href="making-maps-in-r.html#cb96-3"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;Median_income&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Median income (USD)&quot;</span>) <span class="op">+</span></span>
<span id="cb96-4"><a href="making-maps-in-r.html#cb96-4"></a><span class="st">  </span><span class="kw">tm_shape</span>(nz_ports) <span class="op">+</span></span>
<span id="cb96-5"><a href="making-maps-in-r.html#cb96-5"></a><span class="st">  </span><span class="kw">tm_symbols</span>(<span class="dt">size =</span> <span class="fl">0.75</span>) <span class="op">+</span></span>
<span id="cb96-6"><a href="making-maps-in-r.html#cb96-6"></a><span class="st">  </span><span class="kw">tm_scale_bar</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>)) <span class="op">+</span></span>
<span id="cb96-7"><a href="making-maps-in-r.html#cb96-7"></a><span class="st">  </span><span class="kw">tm_compass</span>(<span class="dt">position =</span> <span class="kw">c</span>(<span class="st">&quot;right&quot;</span>, <span class="st">&quot;top&quot;</span>)) <span class="op">+</span></span>
<span id="cb96-8"><a href="making-maps-in-r.html#cb96-8"></a><span class="st">  </span><span class="kw">tm_layout</span>(<span class="dt">bg.color =</span> <span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-3-1.png" width="672" /></p>
<p>It combines eight function calls using the <code>+</code> operator to create the above map.
Each function can be adjusted using its arguments.</p>
<p>We can divide the above tmap functions into a few groups:</p>
<ul>
<li>shapes and layers: <code>tm_shape()</code>, <code>tm_polygons()</code>, <code>tm_symbols()</code>.
They are used to read the spatial data and specify how it should be presented.</li>
<li>attribute layers: <code>tm_graticules()</code>, <code>tm_scale_bar()</code>, <code>tm_compass()</code>.
They add additional information.</li>
<li>other map elements: <code>tm_layout()</code>.
It specifies the overall map look, including its background color or title.</li>
</ul>
<p>We expand the explanation of these functions in the next few sections.</p>
</div>
<div id="shapes-and-layers" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.3</span> Shapes and layers<a href="making-maps-in-r.html#shapes-and-layers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A simple instance of a (t)map consists of specifying spatial object with <code>tm_shape()</code> (this can be, for example, an {sf} vector or a {terra} raster) and then how this object should be visualized.
For example, the code below takes the <code>nz</code> object (sf object with polygons) and plots it as polygons:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="making-maps-in-r.html#cb97-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb97-2"><a href="making-maps-in-r.html#cb97-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-4-1.png" width="672" /></p>
<p>Table <a href="making-maps-in-r.html#tab:04-making-maps-5">3.1</a> gives a list of basic map layers allowed by {tmap}.
We can use different functions depending on our input spatial data type.</p>
<table>
<caption><span id="tab:04-making-maps-5">Table 3.1: </span>Basic map layers</caption>
<thead>
<tr class="header">
<th align="left">Geometry</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">polygons</td>
<td align="left"><code>tm_polygons()</code></td>
</tr>
<tr class="even">
<td align="left">points, lines, and polygons</td>
<td align="left"><code>tm_symbols()</code></td>
</tr>
<tr class="odd">
<td align="left">lines</td>
<td align="left"><code>tm_lines()</code></td>
</tr>
<tr class="even">
<td align="left">raster</td>
<td align="left"><code>tm_raster()</code></td>
</tr>
<tr class="odd">
<td align="left">points, lines, and polygons</td>
<td align="left"><code>tm_text()</code></td>
</tr>
</tbody>
</table>
<p>As we have seen above, polygons can be visualized with <code>tm_polygons()</code>; however, we can also show them using <code>tm_symbols()</code> or <code>tm_text()</code>:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="making-maps-in-r.html#cb98-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb98-2"><a href="making-maps-in-r.html#cb98-2"></a><span class="st">  </span><span class="kw">tm_symbols</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Each map layer can be adjusted.
For example, <code>tm_polygons()</code> can be represented by either:</p>
<ul>
<li>one consistent color (e.g., <code>col = "darkblue"</code>)</li>
<li>unique colors for adjacent polygons (<code>col = "MAP_COLORS"</code>)</li>
<li>color representing values of a given variable (<code>col = Median_income</code>)</li>
</ul>
<p>One consistent color may be set with <a href="https://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">a color name</a> or a hex color code:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="making-maps-in-r.html#cb99-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb99-2"><a href="making-maps-in-r.html#cb99-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;darkblue&quot;</span>) <span class="co">#or #00008b</span></span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-6-1.png" width="672" /></p>
<p>To use unique colors for adjacent polygons we need to use <code>col = "MAP_COLORS"</code>:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="making-maps-in-r.html#cb100-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb100-2"><a href="making-maps-in-r.html#cb100-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;MAP_COLORS&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-7-1.png" width="672" /></p>
<p>We also can provide a variable name to color each polygon based on its value (note: you can check your variables names with <code>head(nz)</code>).
Let’s create a choropleth map of the <code>"Median_income"</code> variable:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="making-maps-in-r.html#cb101-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb101-2"><a href="making-maps-in-r.html#cb101-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;Median_income&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-9-1.png" width="672" /></p>
<p>Next, we customize the map with additional arguments, such as <code>title</code> to change the legend title or <code>palette</code> to provide a name of the color palette to use:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="making-maps-in-r.html#cb102-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb102-2"><a href="making-maps-in-r.html#cb102-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;Median_income&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Median income (USD)&quot;</span>,</span>
<span id="cb102-3"><a href="making-maps-in-r.html#cb102-3"></a>              <span class="dt">palette =</span> <span class="st">&quot;viridis&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-10-1.png" width="672" /></p>
<p>The {tmap} package accepts names of a few dozens of color palettes (note: try <code>tmaptools::palette_explorer()</code>), but it is also possible to provide a vector of colors here.</p>
<p>By default, {tmap} behaves differently depending on the input variable type, e.g., uses unique colors for categorical variables and pretty breaks for continuous variables.
We can use <a href="https://geocompr.github.io/post/2019/tmap-color-scales/">the <code>style</code> argument</a> if we want to change the color breaks.
For example, <code>style = "cont"</code> creates a continuous color gradient:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="making-maps-in-r.html#cb103-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb103-2"><a href="making-maps-in-r.html#cb103-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;Median_income&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Median income (USD)&quot;</span>,</span>
<span id="cb103-3"><a href="making-maps-in-r.html#cb103-3"></a>              <span class="dt">palette =</span> <span class="st">&quot;viridis&quot;</span>, <span class="dt">style =</span> <span class="st">&quot;cont&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-12-1.png" width="672" /></p>
<p>Many spatial objects and their related map layers can be connected with the <code>+</code> operator.
Importantly, subsequent map layers are drawn on top of the previous ones:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="making-maps-in-r.html#cb104-1"></a><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb104-2"><a href="making-maps-in-r.html#cb104-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;Median_income&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Median income (USD)&quot;</span>,</span>
<span id="cb104-3"><a href="making-maps-in-r.html#cb104-3"></a>              <span class="dt">palette =</span> <span class="st">&quot;viridis&quot;</span>, <span class="dt">style =</span> <span class="st">&quot;cont&quot;</span>) <span class="op">+</span></span>
<span id="cb104-4"><a href="making-maps-in-r.html#cb104-4"></a><span class="st">  </span><span class="kw">tm_shape</span>(nz_ports) <span class="op">+</span></span>
<span id="cb104-5"><a href="making-maps-in-r.html#cb104-5"></a><span class="st">  </span><span class="kw">tm_symbols</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-13-1.png" width="672" /></p>
<p>The previous examples used spatial vector data.
However, plotting raster data works in the same fashion – we need to provide a spatial object with <code>tm_shape()</code>, and then plot it with <code>tm_raster()</code>:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="making-maps-in-r.html#cb105-1"></a><span class="kw">tm_shape</span>(nz_elev) <span class="op">+</span></span>
<span id="cb105-2"><a href="making-maps-in-r.html#cb105-2"></a><span class="st">  </span><span class="kw">tm_raster</span>(<span class="dt">title =</span> <span class="st">&quot;Elevation (m asl)&quot;</span>,</span>
<span id="cb105-3"><a href="making-maps-in-r.html#cb105-3"></a>            <span class="dt">palette =</span> <span class="st">&quot;-Spectral&quot;</span>, <span class="dt">style =</span> <span class="st">&quot;cont&quot;</span>) <span class="op">+</span></span>
<span id="cb105-4"><a href="making-maps-in-r.html#cb105-4"></a><span class="st">  </span><span class="kw">tm_shape</span>(nz_ports) <span class="op">+</span></span>
<span id="cb105-5"><a href="making-maps-in-r.html#cb105-5"></a><span class="st">  </span><span class="kw">tm_symbols</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-14-1.png" width="672" /></p>
<p>The tmap functions do not only result in a plot, but their output can be also attach to an R object:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="making-maps-in-r.html#cb106-1"></a>tm &lt;-<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span></span>
<span id="cb106-2"><a href="making-maps-in-r.html#cb106-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;Median_income&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Median income (USD)&quot;</span>,</span>
<span id="cb106-3"><a href="making-maps-in-r.html#cb106-3"></a>              <span class="dt">palette =</span> <span class="st">&quot;viridis&quot;</span>, <span class="dt">style =</span> <span class="st">&quot;cont&quot;</span>) <span class="op">+</span></span>
<span id="cb106-4"><a href="making-maps-in-r.html#cb106-4"></a><span class="st">  </span><span class="kw">tm_shape</span>(nz_ports) <span class="op">+</span></span>
<span id="cb106-5"><a href="making-maps-in-r.html#cb106-5"></a><span class="st">  </span><span class="kw">tm_symbols</span>()</span></code></pre></div>
<p>This is useful when we want to add new layers to our map or save it to a file.</p>
</div>
<div id="attributes-layers" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.4</span> Attributes layers<a href="making-maps-in-r.html#attributes-layers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Attributes layers allow to draw often used map elements, such as <a href="https://geocompr.github.io/post/2019/tmap-grid/">graticules</a>, scale bars, north arrows, logos, or credits (Table <a href="making-maps-in-r.html#tab:04-making-maps-16">3.2</a>).</p>
<table>
<caption><span id="tab:04-making-maps-16">Table 3.2: </span>Basic attributes layers</caption>
<thead>
<tr class="header">
<th align="left">Description</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">draws latitude and longitude graticules</td>
<td align="left"><code>tm_graticules()</code></td>
</tr>
<tr class="even">
<td align="left">adds a scale bar</td>
<td align="left"><code>tm_scale_bar()</code></td>
</tr>
<tr class="odd">
<td align="left">adds a compass rose</td>
<td align="left"><code>tm_compass()</code></td>
</tr>
<tr class="even">
<td align="left">adds a logo</td>
<td align="left"><code>tm_logo()</code></td>
</tr>
<tr class="odd">
<td align="left">adds a text annotation</td>
<td align="left"><code>tm_credits()</code></td>
</tr>
</tbody>
</table>
<p>We can add these elements to our previous map with the following code:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="making-maps-in-r.html#cb107-1"></a>tm <span class="op">+</span></span>
<span id="cb107-2"><a href="making-maps-in-r.html#cb107-2"></a><span class="st">  </span><span class="kw">tm_graticules</span>() <span class="op">+</span></span>
<span id="cb107-3"><a href="making-maps-in-r.html#cb107-3"></a><span class="st">  </span><span class="kw">tm_scale_bar</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>)) <span class="op">+</span></span>
<span id="cb107-4"><a href="making-maps-in-r.html#cb107-4"></a><span class="st">  </span><span class="kw">tm_compass</span>(<span class="dt">position =</span> <span class="kw">c</span>(<span class="st">&quot;right&quot;</span>, <span class="st">&quot;top&quot;</span>)) <span class="op">+</span></span>
<span id="cb107-5"><a href="making-maps-in-r.html#cb107-5"></a><span class="st">  </span><span class="kw">tm_logo</span>(<span class="st">&quot;https://foss4g.org/logos/2022-v2.png&quot;</span>) <span class="op">+</span></span>
<span id="cb107-6"><a href="making-maps-in-r.html#cb107-6"></a><span class="st">  </span><span class="kw">tm_credits</span>(<span class="st">&quot;N. Roelandt and J. Nowosad&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-17-1.png" width="672" /></p>
<p>Each map element can be also customized (e.g., by specifying breaks for the scale bar or a text in the credits), and its location can be set with <code>position</code>.</p>
<p>Let’s save our new map to the <code>tm2</code> object:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="making-maps-in-r.html#cb108-1"></a>tm2 &lt;-<span class="st"> </span>tm <span class="op">+</span></span>
<span id="cb108-2"><a href="making-maps-in-r.html#cb108-2"></a><span class="st">  </span><span class="kw">tm_graticules</span>() <span class="op">+</span></span>
<span id="cb108-3"><a href="making-maps-in-r.html#cb108-3"></a><span class="st">  </span><span class="kw">tm_scale_bar</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>)) <span class="op">+</span></span>
<span id="cb108-4"><a href="making-maps-in-r.html#cb108-4"></a><span class="st">  </span><span class="kw">tm_compass</span>(<span class="dt">position =</span> <span class="kw">c</span>(<span class="st">&quot;right&quot;</span>, <span class="st">&quot;top&quot;</span>)) <span class="op">+</span></span>
<span id="cb108-5"><a href="making-maps-in-r.html#cb108-5"></a><span class="st">  </span><span class="kw">tm_logo</span>(<span class="st">&quot;https://foss4g.org/logos/2022-v2.png&quot;</span>) <span class="op">+</span></span>
<span id="cb108-6"><a href="making-maps-in-r.html#cb108-6"></a><span class="st">  </span><span class="kw">tm_credits</span>(<span class="st">&quot;N. Roelandt and J. Nowosad&quot;</span>)</span></code></pre></div>
</div>
<div id="other-map-elements" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.5</span> Other map elements<a href="making-maps-in-r.html#other-map-elements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The {tmap} also has some other map elements.
It includes <code>tm_add_legend()</code> that allows to add a manual legend by specifying its type, color, and title.
In the example below, we also use <code>tm_layout()</code> – this function specifies the overall map look, including its background color, title, fonts, etc.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="making-maps-in-r.html#cb109-1"></a>tm2 <span class="op">+</span></span>
<span id="cb109-2"><a href="making-maps-in-r.html#cb109-2"></a><span class="st">  </span><span class="kw">tm_add_legend</span>(<span class="dt">type =</span> <span class="st">&quot;symbol&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Main ports&quot;</span>) <span class="op">+</span></span>
<span id="cb109-3"><a href="making-maps-in-r.html#cb109-3"></a><span class="st">  </span><span class="kw">tm_layout</span>(<span class="dt">main.title =</span> <span class="st">&quot;New Zealand&quot;</span>, <span class="dt">bg.color =</span> <span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-19-1.png" width="672" /></p>
<p>Here, we save our new map to the <code>tm3</code> object:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="making-maps-in-r.html#cb110-1"></a>tm3 &lt;-<span class="st"> </span>tm2 <span class="op">+</span></span>
<span id="cb110-2"><a href="making-maps-in-r.html#cb110-2"></a><span class="st">  </span><span class="kw">tm_add_legend</span>(<span class="dt">type =</span> <span class="st">&quot;symbol&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Main ports&quot;</span>) <span class="op">+</span></span>
<span id="cb110-3"><a href="making-maps-in-r.html#cb110-3"></a><span class="st">  </span><span class="kw">tm_layout</span>(<span class="dt">main.title =</span> <span class="st">&quot;New Zealand&quot;</span>, <span class="dt">bg.color =</span> <span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
</div>
<div id="interactive-mode" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.6</span> Interactive mode<a href="making-maps-in-r.html#interactive-mode" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each map created with {tmap} can be viewed in either <code>"plot"</code> and <code>"view"</code> mode: the default <code>"plot"</code> mode returns a static map, while the <code>"view"</code> mode results in an interactive map.
We can change the mode with <code>tmap_mode()</code>:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="making-maps-in-r.html#cb111-1"></a><span class="kw">tmap_mode</span>(<span class="st">&quot;view&quot;</span>)</span></code></pre></div>
<pre><code>## tmap mode set to interactive viewing</code></pre>
<p>Then we just need to open the map object (or write a (t)map code):</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="making-maps-in-r.html#cb113-1"></a>tm3</span>
<span id="cb113-2"><a href="making-maps-in-r.html#cb113-2"></a><span class="co">## Credits not supported in view mode.</span></span>
<span id="cb113-3"><a href="making-maps-in-r.html#cb113-3"></a><span class="co">## Logo not supported in view mode.</span></span>
<span id="cb113-4"><a href="making-maps-in-r.html#cb113-4"></a><span class="co">## Compass not supported in view mode.</span></span>
<span id="cb113-5"><a href="making-maps-in-r.html#cb113-5"></a><span class="co">## Warning: In view mode, scale bar breaks are ignored.</span></span>
<span id="cb113-6"><a href="making-maps-in-r.html#cb113-6"></a><span class="co">## only legends of type &quot;fill&quot; supported in view mode</span></span></code></pre></div>
<div id="htmlwidget-8fcf636fb149bd11be5b" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-8fcf636fb149bd11be5b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"createMapPane","args":["tmap402",402]},{"method":"createMapPane","args":["tmap403",403]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[174.616638800656,174.562809050564,174.481748333157,174.338965900234,174.214573266902,174.128772750479,174.045997583891,174.095972133855,174.155368483075,174.181866683395,174.135350500256,174.040527550541,173.983675883808,173.86604691657,173.688098133553,173.365180583183,173.356613017331,173.054243634031,173.130559999733,173.168093182624,173.167447217184,173.081005749918,172.851222917828,172.653880649817,172.69995103369,172.793065450767,172.869035233581,173.014442316542,172.984791449998,173.025130983722,173.120204417268,173.199324916413,173.280772883247,173.214814899913,173.288398249192,173.340087699738,173.286914883417,173.429163483407,173.389709633848,173.43403079967,173.535566349955,173.562634800269,173.644032483284,173.701142200014,173.74008500064,173.841272884062,173.931277716702,173.963284550175,174.078539632729,174.079958382619,174.125462949978,174.28978491699,174.350169531639,174.339655300127,174.468392016881,174.474719383801,174.536753999552,174.50237205005,174.557601466642,174.555188500026,174.485563450384,174.42268665044,174.404830266529,174.500809283377,174.460144966703,174.510000500399,174.589780900475,174.616638800656],"lat":[-36.1175604665955,-36.1790001827592,-36.2282769999432,-36.3168297168832,-36.2587116660859,-36.1736123994504,-36.170169550126,-36.2448879334658,-36.2760972327272,-36.3630358998131,-36.3920499169112,-36.3928830666112,-36.2337049996789,-36.0912001162456,-35.8924174497126,-35.5474016995135,-35.5228177334195,-35.1912381663496,-35.1789323328517,-35.1364273327505,-35.0363686494596,-34.8923919496618,-34.6297133663192,-34.4780076502047,-34.4263823994865,-34.4539942827612,-34.4145187168354,-34.4241368998064,-34.5278073326606,-34.6535190997586,-34.8166837671412,-34.8709688498192,-34.8925261172547,-34.9612557667477,-35.0132316332077,-34.9582312164518,-34.8634985660925,-34.8251486160708,-34.9534963329248,-34.985936149717,-34.9984530665285,-34.9215679665292,-34.9661940829241,-34.9524767161163,-35.0372064834494,-34.9943093161947,-35.0472986498451,-35.1188625998036,-35.1161315001266,-35.2730977500888,-35.2940340332261,-35.2751480001454,-35.3264187489332,-35.3768799004039,-35.4907537668788,-35.5563464661239,-35.5876817834871,-35.6408338001967,-35.7240167331065,-35.8608910000586,-35.7863742163629,-35.7848320998378,-35.8310155171767,-35.8410631829868,-35.9145349498201,-36.0304654495688,-36.0481898660515,-36.1175604665955]}]],[[{"lng":[175.291304133085,175.152091033439,175.141120333576,175.048242617195,174.990258082555,174.868951232796,174.815488049849,174.659628367495,174.538637882794,174.627048466479,174.690634167279,174.73950153409,174.857652450143,174.826874817006,174.744100215986,174.681552100084,174.583827667051,174.48303651745,174.468611433661,174.424401866458,174.273615083721,174.16870360025,174.187919333769,174.235835399823,174.312745950162,174.404776383887,174.43132198402,174.414885550516,174.25745998445,174.257569883856,174.373455166346,174.481748333157,174.562809050564,174.616638800656,174.657346033553,174.745751216322,174.818184083076,174.734791817454,174.723020317237,174.6928154505,174.740610167352,174.775982149355,174.735215883483,174.880847016882,174.95133831739,175.055796349564,175.093513100132,175.194032000505,175.28332898404,175.291304133085],"lat":[-37.0240384665269,-37.0215583499255,-37.1756033832982,-37.182271199634,-37.2165854996401,-37.2449866002433,-37.2286308828686,-37.2924320832104,-37.0766324001808,-37.0367340832569,-37.1366490000594,-37.1262254668411,-37.0510942830342,-37.0129061169001,-36.9843338828537,-36.9338147160376,-37.0073111163525,-37.0480030494191,-36.9540757993889,-36.8242195164743,-36.6113436505564,-36.4944308500372,-36.4344940164925,-36.4280906168409,-36.5364925994476,-36.6242364999823,-36.5110054662063,-36.4036616161879,-36.3809034491129,-36.3259556823771,-36.3194753664606,-36.2282769999432,-36.1790001827592,-36.1175604665955,-36.1775323830128,-36.2569215827736,-36.2852678662113,-36.4030681168194,-36.5128217502075,-36.5757347661774,-36.648003549368,-36.7735064498829,-36.841124949719,-36.8523293329453,-36.895384549847,-36.8826005993968,-36.9457113831122,-36.9343089329288,-36.9885057501568,-37.0240384665269]}],[{"lng":[175.397381334663,175.422708266539,175.483699566728,175.479485900624,175.543212183699,175.525421999773,175.437765849461,175.433490317008,175.35024318435,175.364852117958,175.326193733307,175.34179548326,175.397381334663],"lat":[-36.049713299334,-36.1291887990178,-36.1921515500181,-36.2444036833917,-36.2952009834157,-36.3476168495479,-36.307523166367,-36.2724128496347,-36.2285364497773,-36.1822376168855,-36.1382729818606,-36.0685923494045,-36.049713299334]}],[{"lng":[175.172594933364,175.14511235048,175.066499350381,175.038030716822,175.172594933364],"lat":[-36.7386591493701,-36.8474120331424,-36.8337360501136,-36.7957700665679,-36.7386591493701]}]],[[{"lng":[175.940104000403,175.913492216933,175.832775867556,175.809667417203,175.833586717063,175.927714949315,175.905873816582,175.977187833289,175.940945834187,176.075603717481,176.076019150588,176.150334834186,176.232057866462,176.297547798202,176.390623467125,176.429143533874,176.50532476716,176.45098049988,176.255113766945,176.258380934161,176.257562950888,176.147549683454,176.172753900527,176.085669116788,175.989206866078,175.964365549959,175.885970716458,175.812568800519,175.669211766574,175.557854216472,175.634656366174,175.617972132812,175.682012417337,175.562633650261,175.579969833542,175.546438183896,175.574620149733,175.523386533045,175.632458999383,175.612185166049,175.480939533801,175.38321201729,175.317760016591,175.213231183619,175.109226684129,174.954390867085,174.937845033609,174.862896367393,174.791960217277,174.655191183282,174.615147466571,174.64557498284,174.634641616934,174.715704749268,174.712538232633,174.690774649571,174.777037133266,174.895569600305,174.874875616366,174.77780156729,174.792085916113,174.75679855049,174.843696184123,174.956284466653,174.951308116722,174.837134500702,174.768715216871,174.700024633059,174.659628367495,174.815488049849,174.868951232796,174.990258082555,175.048242617195,175.141120333576,175.152091033439,175.291304133085,175.294966566686,175.323006283065,175.399204382699,175.544902117385,175.514084716696,175.519742083218,175.491002617546,175.408398483483,175.490180517216,175.494676733871,175.429445151763,175.447073067325,175.405834634532,175.344544616921,175.328268300531,175.368191233069,175.520191916265,175.522613315881,175.583391316676,175.578198899776,175.646650566192,175.788850933096,175.708633783133,175.781305150319,175.856004517196,175.842233483925,175.888322383072,175.878370950749,175.940104000403],"lat":[-37.3732415494177,-37.4255867168046,-37.4716019831908,-37.5138131497633,-37.6274871173512,-37.7760034327964,-37.8285516669824,-37.9136730328251,-37.9294224998321,-38.0495643996976,-38.1214420994632,-38.2181863995568,-38.2390825827257,-38.2295556170154,-38.3230470168629,-38.3134151168029,-38.4022137994137,-38.5616572328534,-38.8081781833421,-38.8899908832,-38.9478759665807,-39.0376737002045,-39.0784858666887,-39.1294486169037,-39.115548083218,-39.1798030168406,-39.2058951835182,-39.3003262165101,-39.2969341494396,-39.2759983495024,-39.1583628832968,-39.0812491668669,-38.9797105002429,-38.9868296998684,-38.9106842496727,-38.8598730996517,-38.8163002497247,-38.7500919668535,-38.5917750672203,-38.4876116162079,-38.4788807501445,-38.5422959832446,-38.5560422670198,-38.639399033155,-38.6245203666556,-38.6675035326607,-38.750158566659,-38.7745840666673,-38.7317766330068,-38.7332825998958,-38.7066484493599,-38.4563665331186,-38.387195516031,-38.3065037997108,-38.200598066221,-38.1176242502273,-38.1325016493315,-38.0859713163714,-38.0485370834874,-38.0815316832105,-38.0072839664294,-37.8638128168037,-37.8039134660885,-37.7924118832187,-37.7515311835379,-37.7936627827159,-37.5608502999387,-37.4167737834856,-37.2924320832104,-37.2286308828686,-37.2449866002433,-37.2165854996401,-37.182271199634,-37.1756033832982,-37.0215583499255,-37.0240384665269,-37.1211146497623,-37.1906320164387,-37.227041266647,-37.1573665495383,-37.0930035993995,-37.0341053993605,-36.9622664333836,-36.8575114002633,-36.8083106669992,-36.7619687494765,-36.7001410820403,-36.6600482663193,-36.5805631831099,-36.5530231170699,-36.4808005321015,-36.4685975823878,-36.540797348894,-36.5918639497278,-36.6272173993893,-36.6802999496879,-36.7363723666434,-36.7041192833087,-36.8325179663944,-36.8224126992364,-36.922808583448,-36.9474531172608,-37.0391867664023,-37.2003710497008,-37.3732415494177]}]],[[{"lng":[178.085284051072,178.107554901019,177.986683351304,177.9966216838,178.073006950751,177.972291634141,177.860967450378,177.73998423373,177.69206768402,177.604788567389,177.499270867243,177.463687900911,177.236922317735,177.257394033338,177.122170799865,177.045979500407,176.991448066688,176.878667633178,176.766746733663,176.717283066478,176.69597065003,176.601167800211,176.520452884076,176.468164783258,176.382140266513,176.303565400195,176.258380934161,176.255113766945,176.45098049988,176.50532476716,176.429143533874,176.390623467125,176.297547798202,176.232057866462,176.150334834186,176.076019150588,176.075603717481,175.940945834187,175.977187833289,175.905873816582,175.927714949315,175.833586717063,175.809667417203,175.832775867556,175.913492216933,175.940104000403,175.963443900661,175.934805299819,175.975048966784,176.053118300074,176.186754767107,176.250032000856,176.419017433437,176.477600450904,176.601950900428,176.736143750086,176.931668933884,177.083869783436,177.160565467622,177.383685833984,177.487534484234,177.546790133806,177.619619200899,177.683952433894,177.72763573395,177.868536418064,177.958640534699,178.006622350124,178.085284051072],"lat":[-37.5423911663695,-37.5987159661319,-37.6087571334111,-37.7602764999712,-37.7635896995148,-37.8450054663352,-38.1116561665495,-38.0420469669081,-38.1082776001083,-38.1866207665939,-38.218466749553,-38.3335362666423,-38.4263417997097,-38.5082771662098,-38.5839209335325,-38.6208022330665,-38.6936945832943,-38.6671346494108,-38.6893096832454,-38.7245242995849,-38.8215917663086,-38.8255591330702,-38.7968662996433,-38.9415194661341,-38.9887032829079,-38.9017194500041,-38.8899908832,-38.8081781833421,-38.5616572328534,-38.4022137994137,-38.3134151168029,-38.3230470168629,-38.2295556170154,-38.2390825827257,-38.2181863995568,-38.1214420994632,-38.0495643996976,-37.9294224998321,-37.9136730328251,-37.8285516669824,-37.7760034327964,-37.6274871173512,-37.5138131497633,-37.4716019831908,-37.4255867168046,-37.3732415494177,-37.4333808167608,-37.536853366205,-37.6239334661435,-37.6595265665208,-37.634790017341,-37.6800395996492,-37.7484934666571,-37.7541410500579,-37.8295142668897,-37.8795955831546,-37.9168967001651,-37.9788140829092,-37.9898454665602,-37.9836964665806,-37.9495595663945,-37.9075796830729,-37.8107283001314,-37.7601537161273,-37.6801879496912,-37.6533825667405,-37.6053283331363,-37.5531278668578,-37.5423911663695]}]],[[{"lng":[177.898992867599,177.834796917622,177.799025001196,177.660163933843,177.660490067463,177.597522800646,177.494212084347,177.447906750288,177.353425167718,177.307560650098,177.122170799865,177.257394033338,177.236922317735,177.463687900911,177.499270867243,177.604788567389,177.69206768402,177.73998423373,177.860967450378,177.972291634141,178.073006950751,177.9966216838,177.986683351304,178.107554901019,178.085284051072,178.174634084159,178.27630185211,178.36371060177,178.482593484816,178.550373601283,178.41585801832,178.391299368696,178.337261951675,178.373593884028,178.321955168811,178.338370118128,178.312409502003,178.344519151932,178.281772317683,178.293040667684,178.198843134477,178.050040402873,177.972729617512,177.911783384716,177.898992867599],"lat":[-38.9718330668037,-38.9527794162303,-38.8943903001803,-38.9047009167065,-38.8489419163927,-38.8070414997931,-38.7779742831157,-38.6359438828921,-38.6245578664864,-38.6597042000079,-38.5839209335325,-38.5082771662098,-38.4263417997097,-38.3335362666423,-38.218466749553,-38.1866207665939,-38.1082776001083,-38.0420469669081,-38.1116561665495,-37.8450054663352,-37.7635896995148,-37.7602764999712,-37.6087571334111,-37.5987159661319,-37.5423911663695,-37.534658299652,-37.5544868664312,-37.631004199356,-37.6410965159531,-37.6920842500843,-37.8580439169652,-37.9613996666553,-38.0095467667522,-38.0944882331678,-38.1221914165945,-38.1917070830343,-38.2415486163282,-38.4184646333134,-38.4721755162877,-38.526928333314,-38.6055091159961,-38.7020828327625,-38.6812606832734,-38.8279248668031,-38.9718330668037]}]],[[{"lng":[177.898992867599,177.9017996505,178.001674401045,177.92431856696,177.906174350565,177.850842017112,177.839268633773,177.870901817844,177.75596521677,177.636631150037,177.421363584246,177.259161701191,177.046117517361,176.989527483501,176.919394050451,176.876375366295,176.924177550286,176.922247883074,176.966353650113,177.075499034915,177.011022417518,177.005106232808,176.932128366662,176.888223216917,176.868997500491,176.794396933441,176.687031283296,176.622569049891,176.443295266386,176.359488317335,176.378605866566,176.32321406684,176.204970833786,176.136627349809,176.09383140064,176.106847067352,176.17685259975,176.195937933828,176.142726417604,176.183756817499,176.136827417623,176.111859467523,176.121760383432,176.080882450312,176.115201750033,176.085669116788,176.172753900527,176.147549683454,176.257562950888,176.258380934161,176.303565400195,176.382140266513,176.468164783258,176.520452884076,176.601167800211,176.69597065003,176.717283066478,176.766746733663,176.878667633178,176.991448066688,177.045979500407,177.122170799865,177.307560650098,177.353425167718,177.447906750288,177.494212084347,177.597522800646,177.660490067463,177.660163933843,177.799025001196,177.834796917622,177.898992867599],"lat":[-38.9718330668037,-39.0729589163746,-39.1049364834253,-39.170128766505,-39.2262764656247,-39.2334497993429,-39.1523278989566,-39.0876976334651,-39.0586759164819,-39.0504614667207,-39.0626328994174,-39.1006631831779,-39.1939367500206,-39.2940027839539,-39.3400230830998,-39.4226607995911,-39.4759893490698,-39.5495836494558,-39.6235120826987,-39.673259415579,-39.7427146832489,-39.8359419166031,-39.9352899665187,-40.0255260161828,-40.1313829665878,-40.2053349997861,-40.2563932328157,-40.4280165161931,-40.407388833065,-40.1971025165439,-40.1581407167419,-40.0937170162861,-40.0189951167996,-40.028578133887,-39.9955025832942,-39.9172052497374,-39.7440490995691,-39.6635709666433,-39.5846827831589,-39.5389751331424,-39.4752775333261,-39.3849908334676,-39.3263642668672,-39.2591636994191,-39.217689216508,-39.1294486169037,-39.0784858666887,-39.0376737002045,-38.9478759665807,-38.8899908832,-38.9017194500041,-38.9887032829079,-38.9415194661341,-38.7968662996433,-38.8255591330702,-38.8215917663086,-38.7245242995849,-38.6893096832454,-38.6671346494108,-38.6936945832943,-38.6208022330665,-38.5839209335325,-38.6597042000079,-38.6245578664864,-38.6359438828921,-38.7779742831157,-38.8070414997931,-38.8489419163927,-38.9047009167065,-38.8943903001803,-38.9527794162303,-38.9718330668037]}]],[[{"lng":[174.615147466571,174.655191183282,174.791960217277,174.862896367393,174.819869750297,174.798771383129,174.82803073341,174.764415417466,174.788411450134,174.675169549981,174.755642432479,174.747802983227,174.891668949943,174.871353583229,174.928495867377,174.967386967073,174.97262881664,174.930618333552,174.784081849931,174.716569950035,174.558874867369,174.444514817259,174.352709617041,174.201535516873,174.076819100748,173.910845583182,173.794988949217,173.75158500083,173.794817016681,173.909613299173,174.088957305084,174.200815833298,174.390964834124,174.559947483204,174.615147466571],"lat":[-38.7066484493599,-38.7332825998958,-38.7317766330068,-38.7745840666673,-38.7875171166311,-38.8652667999914,-38.923704366338,-39.0047909500201,-39.0678331830544,-39.1298299493616,-39.2336436335003,-39.2757990163096,-39.3582403665654,-39.401065466581,-39.4761503161982,-39.4862796832774,-39.653146100114,-39.7244787999056,-39.8579774497812,-39.8672062167774,-39.8174444664505,-39.7506608664429,-39.6590780832936,-39.588083783155,-39.5773399666899,-39.5148036332211,-39.4150641328049,-39.2803068998594,-39.1924945673116,-39.1211085998946,-39.050930172386,-38.9883909501843,-38.9888580830121,-38.855913583522,-38.7066484493599]}]],[[{"lng":[176.085669116788,176.115201750033,176.080882450312,176.121760383432,176.111859467523,176.136827417623,176.183756817499,176.142726417604,176.195937933828,176.17685259975,176.106847067352,176.09383140064,176.136627349809,176.204970833786,176.32321406684,176.378605866566,176.359488317335,176.443295266386,176.622569049891,176.620793584048,176.493457017513,176.33276253349,176.211253483372,176.082334183401,176.02244929987,175.871636834196,175.764739183997,175.77010965014,175.690650115948,175.653222466794,175.473443566666,175.439643550552,175.371593716648,175.266658932695,175.136486700712,175.190707066475,175.227057750243,175.223560650608,175.198135366129,175.162540683897,175.045463016741,174.927877449905,174.784081849931,174.930618333552,174.97262881664,174.967386967073,174.928495867377,174.871353583229,174.891668949943,174.747802983227,174.755642432479,174.675169549981,174.788411450134,174.764415417466,174.82803073341,174.798771383129,174.819869750297,174.862896367393,174.937845033609,174.954390867085,175.109226684129,175.213231183619,175.317760016591,175.38321201729,175.480939533801,175.612185166049,175.632458999383,175.523386533045,175.574620149733,175.546438183896,175.579969833542,175.562633650261,175.682012417337,175.617972132812,175.634656366174,175.557854216472,175.669211766574,175.812568800519,175.885970716458,175.964365549959,175.989206866078,176.085669116788],"lat":[-39.1294486169037,-39.217689216508,-39.2591636994191,-39.3263642668672,-39.3849908334676,-39.4752775333261,-39.5389751331424,-39.5846827831589,-39.6635709666433,-39.7440490995691,-39.9172052497374,-39.9955025832942,-40.028578133887,-40.0189951167996,-40.0937170162861,-40.1581407167419,-40.1971025165439,-40.407388833065,-40.4280165161931,-40.4917772330373,-40.5305003327721,-40.697900799416,-40.6592102828478,-40.7081527160579,-40.7114886668745,-40.7779047333494,-40.7680905667094,-40.6988883998422,-40.6965623329828,-40.7424894827011,-40.6933970997398,-40.7441521327217,-40.7268607830085,-40.7686105330861,-40.7003334998074,-40.5669227160489,-40.3980753833689,-40.2930346163214,-40.1765422327759,-40.1071686334006,-39.9854570661162,-39.8993730493337,-39.8579774497812,-39.7244787999056,-39.653146100114,-39.4862796832774,-39.4761503161982,-39.401065466581,-39.3582403665654,-39.2757990163096,-39.2336436335003,-39.1298299493616,-39.0678331830544,-39.0047909500201,-38.923704366338,-38.8652667999914,-38.7875171166311,-38.7745840666673,-38.750158566659,-38.6675035326607,-38.6245203666556,-38.639399033155,-38.5560422670198,-38.5422959832446,-38.4788807501445,-38.4876116162079,-38.5917750672203,-38.7500919668535,-38.8163002497247,-38.8598730996517,-38.9106842496727,-38.9868296998684,-38.9797105002429,-39.0812491668669,-39.1583628832968,-39.2759983495024,-39.2969341494396,-39.3003262165101,-39.2058951835182,-39.1798030168406,-39.115548083218,-39.1294486169037]}]],[[{"lng":[176.33276253349,176.267228400183,176.224487017583,176.154899234065,176.106925633451,176.06247941692,176.003310849804,175.961835883779,175.899294816757,175.811865650044,175.675583900734,175.58518594996,175.533100033117,175.433381416302,175.325406533484,175.236423100173,175.195284183578,175.216735033403,175.043268483566,174.924173882771,174.847847867082,174.912076183578,174.84435636702,174.785921437228,174.839045832862,174.705109599961,174.66078746668,174.623012999722,174.711288199763,174.794672150245,174.867167799271,174.846312016586,174.938811199179,174.989772533759,175.035492733743,175.136486700712,175.266658932695,175.371593716648,175.439643550552,175.473443566666,175.653222466794,175.690650115948,175.77010965014,175.764739183997,175.871636834196,176.02244929987,176.082334183401,176.211253483372,176.33276253349],"lat":[-40.697900799416,-40.7848636000785,-40.9064747168577,-40.9481505495627,-41.0152208993286,-41.1310157498429,-41.1717069160855,-41.2447749001051,-41.263295699946,-41.3596269993307,-41.4137952330758,-41.487372832698,-41.4965452334551,-41.568835716916,-41.6059589661807,-41.6051656500547,-41.5238026326986,-41.4315767334165,-41.3733172995721,-41.434702866697,-41.3594841327964,-41.2597096998983,-41.2288581497398,-41.2651837993434,-41.325258266261,-41.357110466716,-41.340375233043,-41.260325633351,-41.2199340172696,-41.1246902997312,-41.0867387663926,-41.0499113660407,-41.0003014665634,-40.8786943168908,-40.8516626997223,-40.7003334998074,-40.7686105330861,-40.7268607830085,-40.7441521327217,-40.6933970997398,-40.7424894827011,-40.6965623329828,-40.6988883998422,-40.7680905667094,-40.7779047333494,-40.7114886668745,-40.7081527160579,-40.6592102828478,-40.697900799416]}]],[[{"lng":[172.479030949819,172.444256900204,172.348260516017,172.235513800302,172.1330007499,172.094375383646,171.974953333456,171.915639166648,171.841774433461,171.763848766853,171.746369750711,171.69066966728,171.44922653414,171.411630450039,171.316264849941,171.237669015979,171.197689267427,171.079330766508,170.993271149153,170.937214367317,170.830348166594,170.70569891615,170.592312017226,170.528889117364,170.395291850712,170.322861434049,170.238421217139,170.098131417274,170.091407749954,169.965530866418,169.900034783336,169.699336634166,169.592780550635,169.591375933128,169.372957082297,169.275178699666,169.188798133306,169.147102432454,168.975078451156,168.96335649954,168.849166000554,168.836083532939,168.728392349302,168.625502799972,168.460041532736,168.334527917187,168.407363598795,168.349075433004,168.347349198927,168.224958950158,168.1319289655,168.052080299308,168.245224000031,168.327532100226,168.386086599038,168.512572866105,168.596033082782,168.709528882769,168.815458849903,168.888444332937,168.969334415735,169.209384000714,169.426815166859,169.59167065054,169.690794066988,169.793601633185,169.981233500255,170.050894783883,170.266101450359,170.257309000665,170.34165461676,170.420541400346,170.524388600502,170.720963766413,170.867846066505,170.947971800697,171.051014333038,171.167346766778,171.218172099769,171.304561750154,171.321142133862,171.417931516559,171.455980199127,171.462321733036,171.587717983286,171.670754701712,171.828431383484,171.882088466121,171.987652299441,172.063382449494,172.092597800296,172.111628817585,172.094501582949,172.133988150577,172.217804650849,172.229036100221,172.370078216958,172.310335033614,172.493938299216,172.485968450507,172.618004983595,172.657937583202,172.600312034113,172.584361567505,172.46311268413,172.418018282578,172.34245996745,172.320665484129,172.238130649319,172.247078967484,172.129322299744,172.115730567145,172.052126816993,172.135203666157,172.206730749948,172.26099479982,172.331950216583,172.335875833233,172.369593532568,172.479030949819],"lat":[-42.2770294331018,-42.3659640998714,-42.3913898493678,-42.4567272663214,-42.5552061664186,-42.6204476501529,-42.6389925162953,-42.6817304496183,-42.7745563165371,-42.7917224165052,-42.8740807000333,-42.9008274327487,-42.9092283835239,-42.950759216649,-42.9474959831915,-43.0025114832476,-43.0742574837314,-43.102300650144,-43.2153140832055,-43.2040572826524,-43.2835111333338,-43.3207865163982,-43.434014166647,-43.41035221676,-43.4980506000732,-43.4903493001037,-43.5138270161936,-43.5954793833291,-43.6603731668313,-43.7917623165842,-43.8129979662184,-43.9635462831413,-43.9580761662848,-44.0125360168529,-44.1169906667223,-44.0985810003063,-44.1105468993574,-44.0802167659312,-44.1440294839761,-44.199936332986,-44.2466723496502,-44.3399177501499,-44.4194781170877,-44.4339354666367,-44.4953348162634,-44.4967794329974,-44.375114782965,-44.3304824000169,-44.2842383168839,-44.2568242500963,-44.2811937826191,-44.2586477665919,-44.1580564167771,-44.0494656167805,-44.0035227664975,-44.0018953502124,-43.9725449329757,-43.9942465499117,-43.9674074836821,-43.9053743500885,-43.8784611500177,-43.7192994001206,-43.6253148330259,-43.5990183996295,-43.5430910166687,-43.4215250502158,-43.3578198495791,-43.2918990002289,-43.1725636158674,-43.1188153494437,-43.0966792499988,-43.036161432916,-43.0173943501819,-42.9301012999167,-42.8228048660285,-42.7232656999423,-42.650688316635,-42.5078089999824,-42.38101976624,-42.2672141667554,-42.1532471998936,-41.9177566328917,-41.8824885829434,-41.7497772332918,-41.7299331833209,-41.7398889758327,-41.6470442500159,-41.6006758828507,-41.4457266661766,-41.3840702160795,-41.2827791501859,-41.0257784662469,-40.9162500830626,-40.8506217828755,-40.774542766922,-40.8558806664317,-40.970752467169,-41.0135581163049,-41.0245242002209,-41.0542427327253,-41.1598956494172,-41.2391689995477,-41.3018332326644,-41.3761944999728,-41.4043775665214,-41.4716592493264,-41.5131613498066,-41.6102873667713,-41.6395180999667,-41.6842177167129,-41.7140016329479,-41.8684047996712,-41.9451821329827,-42.1040439833841,-42.0983147832208,-42.1483124834356,-42.1506392829357,-42.2342079660401,-42.2806025168197,-42.2770294331018]}]],[[{"lng":[174.048786900106,173.966599600681,173.892544684064,173.697996616623,173.671647083024,173.594467415866,173.509134350058,173.479398800221,173.368425849937,173.241651783235,173.14498353365,173.080542450878,172.816906899328,172.73369503355,172.704087800548,172.71511108423,172.776007199763,173.040053516148,173.102133650692,173.130149783874,173.100509666792,172.997729132882,172.836626966534,172.728520416444,172.587602799177,172.31661868302,172.028047117075,171.614830016684,171.439070166985,171.333436083013,171.244871200256,171.258240632396,171.195791149221,171.159184499413,171.167954350424,171.144153632672,170.882433150378,170.658825416631,170.636873433877,170.542436216333,170.447188600345,170.397211283578,170.349440716734,170.373258400943,170.31935306623,170.242072667455,170.094098767269,169.996618083493,169.944216317563,169.836191183413,169.757151799328,169.644210749049,169.633685649873,169.545884367463,169.577100816617,169.571069933852,169.71703741641,169.699336634166,169.900034783336,169.965530866418,170.091407749954,170.098131417274,170.238421217139,170.322861434049,170.395291850712,170.528889117364,170.592312017226,170.70569891615,170.830348166594,170.937214367317,170.993271149153,171.079330766508,171.197689267427,171.237669015979,171.316264849941,171.411630450039,171.44922653414,171.69066966728,171.746369750711,171.763848766853,171.841774433461,171.915639166648,171.974953333456,172.094375383646,172.1330007499,172.235513800302,172.348260516017,172.444256900204,172.479030949819,172.614713433524,172.639183050117,172.721472999322,172.7216385824,172.823290099099,172.84243633332,172.914144833248,172.94139345023,172.992906316788,173.035789000756,173.189895532864,173.24452471748,173.312201366903,173.464463350147,173.499107499943,173.720210166329,173.744379950814,173.817253667021,173.955504883873,174.048786900106],"lat":[-41.9681092162646,-42.0447000162222,-42.1892206160537,-42.3510559327565,-42.4129525826812,-42.4284450168009,-42.5056333005132,-42.5927161833282,-42.7988198827147,-42.9528653661391,-42.9864308666849,-43.0507309163817,-43.1332584499975,-43.2550360161799,-43.3903552166644,-43.5479150830902,-43.5827193328042,-43.6552001167668,-43.6956743333898,-43.7627759999603,-43.8318133828904,-43.8873741827173,-43.8897602829967,-43.8276729498342,-43.8332652162497,-43.867088416516,-43.9583162998822,-44.1318285168831,-44.2233021661721,-44.2951907165708,-44.3817173994063,-44.4457059831107,-44.5267523667682,-44.6278346999366,-44.8761730664355,-44.9403990326692,-44.8910093998382,-44.9092402835565,-44.9513015836403,-44.9850467672386,-45.0659566666375,-45.0809043668126,-45.0216976998938,-44.952776016064,-44.9030489828625,-44.9307172500718,-44.9400199335113,-44.8215735834641,-44.6539842168892,-44.6688994161829,-44.6121328160996,-44.5858154998365,-44.4624053000104,-44.4226623997473,-44.3456657832859,-44.1772291501172,-44.0382773160894,-43.9635462831413,-43.8129979662184,-43.7917623165842,-43.6603731668313,-43.5954793833291,-43.5138270161936,-43.4903493001037,-43.4980506000732,-43.41035221676,-43.434014166647,-43.3207865163982,-43.2835111333338,-43.2040572826524,-43.2153140832055,-43.102300650144,-43.0742574837314,-43.0025114832476,-42.9474959831915,-42.950759216649,-42.9092283835239,-42.9008274327487,-42.8740807000333,-42.7917224165052,-42.7745563165371,-42.6817304496183,-42.6389925162953,-42.6204476501529,-42.5552061664186,-42.4567272663214,-42.3913898493678,-42.3659640998714,-42.2770294331018,-42.1954626498853,-42.100794682948,-42.1034917994144,-42.1586981838838,-42.2047070167556,-42.2891840664554,-42.3086089000796,-42.3778250335189,-42.4038495339355,-42.4834705328753,-42.4105463995064,-42.3031041161591,-42.2503815997009,-42.1956736999058,-42.0787366833914,-41.9607712162509,-41.9073832665118,-41.9329969833555,-41.9126783171107,-41.9681092162646]}]],[[{"lng":[169.699336634166,169.71703741641,169.571069933852,169.577100816617,169.545884367463,169.633685649873,169.644210749049,169.757151799328,169.836191183413,169.944216317563,169.996618083493,170.094098767269,170.242072667455,170.31935306623,170.373258400943,170.349440716734,170.397211283578,170.447188600345,170.542436216333,170.636873433877,170.658825416631,170.882433150378,171.144153632672,171.100528099082,170.973751149775,170.904456867088,170.831473232453,170.831145883379,170.75579789982,170.725243549953,170.653058832418,170.600894433297,170.658593699997,170.663784716405,170.511765316615,170.297526650457,170.196885316544,170.168560666662,169.923941867013,169.798088316601,169.797051965829,169.587586633489,169.477118166607,169.404843300495,169.279166266414,169.200940883149,169.250660233484,169.172959832917,169.195997516617,169.134143867466,169.190826583046,169.198060700759,169.159619899649,169.153328134215,169.067252783254,169.091515616554,169.00519949925,168.993372050492,169.129045084084,169.140231617195,169.211048582416,169.099293032989,169.065469000252,168.959565366235,168.88690013254,168.78245703227,168.751634949745,168.692215200617,168.674105117399,168.539401382992,168.323294049703,168.300759133193,168.217006498699,168.284206182425,168.292267949264,168.133993849733,168.117214416135,168.191001933063,168.172333382998,168.234509799649,168.334527917187,168.460041532736,168.625502799972,168.728392349302,168.836083532939,168.849166000554,168.96335649954,168.975078451156,169.147102432454,169.188798133306,169.275178699666,169.372957082297,169.591375933128,169.592780550635,169.699336634166],"lat":[-43.9635462831413,-44.0382773160894,-44.1772291501172,-44.3456657832859,-44.4226623997473,-44.4624053000104,-44.5858154998365,-44.6121328160996,-44.6688994161829,-44.6539842168892,-44.8215735834641,-44.9400199335113,-44.9307172500718,-44.9030489828625,-44.952776016064,-45.0216976998938,-45.0809043668126,-45.0659566666375,-44.9850467672386,-44.9513015836403,-44.9092402835565,-44.8910093998382,-44.9403990326692,-45.0030083668311,-45.0991354496446,-45.1744155169318,-45.3055600328616,-45.4735115163292,-45.5334878502003,-45.5959489167714,-45.6310545499711,-45.7107696833627,-45.7588499501476,-45.9035087330446,-45.9091708334976,-45.9623933001854,-46.0625319333923,-46.1545419165179,-46.2983543338468,-46.3546976165361,-46.4513536994124,-46.5657448494185,-46.5613084168585,-46.612326249574,-46.6224137668428,-46.5607098329384,-46.5143265833878,-46.4861186664512,-46.4044065827567,-46.3754392332203,-46.3264038994531,-46.2126295493632,-46.175637150073,-46.04874471621,-45.9804276164781,-45.882556116601,-45.8634921999957,-45.7285384168417,-45.5203341827282,-45.4652520830163,-45.416771999385,-45.3199457495541,-45.2696099000556,-45.3591220831272,-45.4628204660881,-45.4370390834154,-45.3675663496802,-45.3396697501243,-45.2430717497138,-45.3093267168891,-45.3275431668485,-45.2246531168759,-45.1445409498591,-45.1061745334867,-45.0438246332288,-44.941441066775,-44.8714499496131,-44.7667900998971,-44.7045591835111,-44.5431956997936,-44.4967794329974,-44.4953348162634,-44.4339354666367,-44.4194781170877,-44.3399177501499,-44.2466723496502,-44.199936332986,-44.1440294839761,-44.0802167659312,-44.1105468993574,-44.0985810003063,-44.1169906667223,-44.0125360168529,-43.9580761662848,-43.9635462831413]}]],[[{"lng":[168.334527917187,168.234509799649,168.172333382998,168.191001933063,168.117214416135,168.133993849733,168.292267949264,168.284206182425,168.217006498699,168.300759133193,168.323294049703,168.539401382992,168.674105117399,168.692215200617,168.751634949745,168.78245703227,168.88690013254,168.959565366235,169.065469000252,169.099293032989,169.211048582416,169.140231617195,169.129045084084,168.993372050492,169.00519949925,169.091515616554,169.067252783254,169.153328134215,169.159619899649,169.198060700759,169.190826583046,169.134143867466,169.195997516617,169.172959832917,169.250660233484,169.200940883149,169.279166266414,169.22036591599,169.112977633915,169.005877783088,168.847240616637,168.793966399601,168.602963450626,168.515573883226,168.352956367462,168.265940499968,168.26360971254,168.190226399742,168.06494099935,168.015834933344,167.931857766403,167.783985415679,167.697388533509,167.712351199088,167.611463132559,167.53328326551,167.403100265785,167.36041789911,167.217213498612,167.105668632816,166.85248326508,166.778670298321,166.657467513834,166.618782631882,166.682766415625,166.698540013858,166.615138531335,166.611146481073,166.555778430931,166.449630281668,166.426302914574,166.450324479865,166.518401048488,166.622173080915,166.804038747773,166.730721582164,166.751807813934,166.731030032183,166.671602280962,166.684135131589,166.844406780597,166.908979298452,167.007590898471,166.967797181292,167.002267430718,167.271321765735,167.500637449284,167.571723433206,167.751370432539,167.817211299564,167.827906549916,167.87268493277,167.973286216338,168.008558299815,168.097524282888,168.052080299308,168.1319289655,168.224958950158,168.347349198927,168.349075433004,168.407363598795,168.334527917187],"lat":[-44.4967794329974,-44.5431956997936,-44.7045591835111,-44.7667900998971,-44.8714499496131,-44.941441066775,-45.0438246332288,-45.1061745334867,-45.1445409498591,-45.2246531168759,-45.3275431668485,-45.3093267168891,-45.2430717497138,-45.3396697501243,-45.3675663496802,-45.4370390834154,-45.4628204660881,-45.3591220831272,-45.2696099000556,-45.3199457495541,-45.416771999385,-45.4652520830163,-45.5203341827282,-45.7285384168417,-45.8634921999957,-45.882556116601,-45.9804276164781,-46.04874471621,-46.175637150073,-46.2126295493632,-46.3264038994531,-46.3754392332203,-46.4044065827567,-46.4861186664512,-46.5143265833878,-46.5607098329384,-46.6224137668428,-46.656223099872,-46.6445697998936,-46.6743386331633,-46.6586199329358,-46.5811262500882,-46.5519047497942,-46.5742984501617,-46.5362781992669,-46.5559335326646,-46.4953184340233,-46.3853629167499,-46.3392979665928,-46.3838269830026,-46.3581014999452,-46.3890891171229,-46.307961466909,-46.2576959503765,-46.1914227661012,-46.16240946673,-46.1520754166419,-46.2369484002097,-46.2625064668733,-46.25366113273,-46.2084794827791,-46.222072183102,-46.20228694959,-46.1487916665506,-46.115505482954,-46.05823409979,-46.0600605832903,-45.9997223499968,-45.9746464495691,-45.9949010500723,-45.9044508994386,-45.818964083446,-45.794390016666,-45.7910534165939,-45.759831816707,-45.7281351169409,-45.6676932499871,-45.5947802672105,-45.574992932913,-45.5132728166055,-45.2758819164536,-45.3074377165583,-45.3141696665502,-45.1937010839229,-45.1255542171957,-44.8704801002207,-44.7480579001324,-44.6858730830295,-44.5806611495955,-44.5991209997801,-44.5075593496395,-44.4342743666374,-44.3866309826956,-44.3250568994953,-44.327164299694,-44.2586477665919,-44.2811937826191,-44.2568242500963,-44.2842383168839,-44.3304824000169,-44.375114782965,-44.4967794329974]}],[{"lng":[167.869696716553,167.976547566294,168.001210732076,168.141792199061,168.141009317838,168.031908183908,167.978834599659,168.150523283786,168.214668599019,168.15639086674,167.954351350313,167.825699751352,167.710747198798,167.636122349395,167.646031498693,167.466622084097,167.466427316638,167.575995200266,167.579121549914,167.649750531859,167.694039966266,167.759027315244,167.756471366353,167.704121799979,167.754640632138,167.869696716553],"lat":[-46.6842310166752,-46.7237613987849,-46.785762665437,-46.8618585329575,-46.909408299092,-46.8968874826732,-46.928878233435,-46.9664681179055,-46.9944344838292,-47.1041435162499,-47.1292745649547,-47.1913799838493,-47.1604565164636,-47.2102895331876,-47.2637216324405,-47.2828524160058,-47.2165166326058,-47.16624331603,-47.0853388999095,-47.0364652490045,-46.967082999694,-46.9370851821983,-46.860982265505,-46.7544420165422,-46.6946847164946,-46.6842310166752]}],[{"lng":[166.678832281489,166.716482698834,166.723640182258,166.684653831234,166.588378964322,166.536803814148,166.678832281489],"lat":[-45.6003756001343,-45.6245835332561,-45.6992354496554,-45.7481735831086,-45.7207469668143,-45.6343713996404,-45.6003756001343]}],[{"lng":[166.962425848418,166.949393049243,166.987792331855,166.947416381365,166.868999981552,166.962425848418],"lat":[-45.1477982831904,-45.2031774998176,-45.2585408501287,-45.2941630663986,-45.2405394834619,-45.1477982831904]}]],[[{"lng":[173.198887399729,173.297443983366,173.250831384127,173.304149350489,173.168700533592,173.151614666983,173.086652616993,173.003789650797,172.926235200656,172.847570550194,172.86109313253,172.735298849099,172.721472999322,172.639183050117,172.614713433524,172.479030949819,172.369593532568,172.335875833233,172.331950216583,172.26099479982,172.206730749948,172.135203666157,172.052126816993,172.115730567145,172.129322299744,172.247078967484,172.238130649319,172.320665484129,172.34245996745,172.418018282578,172.46311268413,172.584361567505,172.600312034113,172.657937583202,172.618004983595,172.485968450507,172.493938299216,172.310335033614,172.370078216958,172.229036100221,172.217804650849,172.292207984059,172.447285383514,172.60562558292,172.642595651343,172.728820134899,172.688014218755,172.692504033943,172.798009667228,172.886338016923,172.990330217499,173.063517816826,173.012366349789,173.033520217139,173.009530717519,173.06578501716,173.104255083169,173.198887399729],"lat":[-41.3306196997791,-41.3931415162841,-41.4665801165597,-41.5060320836021,-41.5311546995344,-41.5854709831824,-41.6249252333708,-41.7248032669465,-41.7577336161561,-41.8742874663503,-41.922462966173,-42.0578953163068,-42.1034917994144,-42.100794682948,-42.1954626498853,-42.2770294331018,-42.2806025168197,-42.2342079660401,-42.1506392829357,-42.1483124834356,-42.0983147832208,-42.1040439833841,-41.9451821329827,-41.8684047996712,-41.7140016329479,-41.6842177167129,-41.6395180999667,-41.6102873667713,-41.5131613498066,-41.4716592493264,-41.4043775665214,-41.3761944999728,-41.3018332326644,-41.2391689995477,-41.1598956494172,-41.0542427327253,-41.0245242002209,-41.0135581163049,-40.970752467169,-40.8558806664317,-40.774542766922,-40.7473438326445,-40.6295302334271,-40.5644542999246,-40.5081192334842,-40.5290822657834,-40.5827790489968,-40.727883200224,-40.8162795663944,-40.832379632699,-40.7811902663518,-40.9057494657392,-40.9921395165867,-41.0887589498834,-41.1437780995651,-41.1838260998853,-41.2901597329138,-41.3306196997791]}]],[[{"lng":[173.297443983366,173.198887399729,173.221776466012,173.310618882688,173.32361723313,173.412776467452,173.461631133591,173.593891449768,173.568365816496,173.523007850712,173.415419299657,173.40678916666,173.297443983366],"lat":[-41.3931415162841,-41.3306196997791,-41.2930119000107,-41.2507582163573,-41.2037450165945,-41.1494512164174,-41.166853316328,-41.0511199330342,-41.1897309661648,-41.1979918667514,-41.2891416995075,-41.3309583501785,-41.3931415162841]}]],[[{"lng":[174.048786900106,173.955504883873,173.817253667021,173.744379950814,173.720210166329,173.499107499943,173.464463350147,173.312201366903,173.24452471748,173.189895532864,173.035789000756,172.992906316788,172.94139345023,172.914144833248,172.84243633332,172.823290099099,172.7216385824,172.721472999322,172.735298849099,172.86109313253,172.847570550194,172.926235200656,173.003789650797,173.086652616993,173.151614666983,173.168700533592,173.304149350489,173.250831384127,173.297443983366,173.40678916666,173.415419299657,173.523007850712,173.568365816496,173.593891449768,173.673303050289,173.802376834404,173.85077169915,173.868127116147,173.93680894915,173.993088400438,174.079004183599,174.17580193353,174.219448550258,174.12449421688,174.133062266944,174.048447900196,174.033535683903,174.072046116608,174.150420350879,174.15696061672,174.198299267036,174.275035250512,174.196758333519,174.048786900106],"lat":[-41.9681092162646,-41.9126783171107,-41.9329969833555,-41.9073832665118,-41.9607712162509,-42.0787366833914,-42.1956736999058,-42.2503815997009,-42.3031041161591,-42.4105463995064,-42.4834705328753,-42.4038495339355,-42.3778250335189,-42.3086089000796,-42.2891840664554,-42.2047070167556,-42.1586981838838,-42.1034917994144,-42.0578953163068,-41.922462966173,-41.8742874663503,-41.7577336161561,-41.7248032669465,-41.6249252333708,-41.5854709831824,-41.5311546995344,-41.5060320836021,-41.4665801165597,-41.3931415162841,-41.3309583501785,-41.2891416995075,-41.1979918667514,-41.1897309661648,-41.0511199330342,-41.0342675989915,-40.9722475322947,-41.0223203830977,-41.1442067667642,-41.0834601826368,-41.1021083834405,-41.016276216295,-40.9990567827128,-41.0713428828276,-41.2362538666924,-41.2853295661891,-41.3931097327586,-41.4763469339475,-41.5239591995643,-41.5594337667529,-41.6476697164152,-41.7232352500816,-41.7428873668597,-41.835604316821,-41.9681092162646]}],[{"lng":[173.956358883868,173.960139751383,173.90531894827,173.813983967132,173.772206384172,173.805729534265,173.93662750116,173.956358883868],"lat":[-40.6928282325892,-40.7644749495549,-40.857230999874,-40.930467433164,-40.8619594325141,-40.8027343164422,-40.7475060664529,-40.6928282325892]}]]],["Northland","Auckland","Waikato","Bay.of.Plenty","Gisborne","Hawke.s.Bay","Taranaki","Manawatu.Wanganui","Wellington","West.Coast","Canterbury","Otago","Southland","Tasman","Nelson","Marlborough"],"nz",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":"#666666","weight":1,"opacity":1,"fill":true,"fillColor":["#440154","#37B878","#228B8D","#35608D","#482576","#365D8D","#26AD81","#443A83","#FDE725","#2D718E","#52C569","#33628D","#33B67A","#3C4F8A","#2A788E","#228B8D"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"dashArray":"none","smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Northland<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>23,400<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Auckland<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>29,600<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Waikato<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>27,900<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Bay of Plenty<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,200<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Gisborne<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>24,400<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Hawke's Bay<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,100<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Taranaki<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>29,100<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Manawatu-Wanganui<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>25,000<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Wellington<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>32,700<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>West Coast<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,900<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Canterbury<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>30,100<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Otago<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,300<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Southland<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>29,500<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Tasman<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>25,700<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Nelson<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>27,200<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Marlborough<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>27,900<\/nobr><\/td><\/tr><\/table><\/div>"],null,["Northland","Auckland","Waikato","Bay of Plenty","Gisborne","Hawke's Bay","Taranaki","Manawatu-Wanganui","Wellington","West Coast","Canterbury","Otago","Southland","Tasman","Nelson","Marlborough"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#481B6D , #481B6D 0%, #443C7C 12.5%, #38588C 25%, #33738D 37.5%, #218E8D 50%, #3EA87D 62.5%, #4DC36B 75%, #9CD34D 87.5%, #D7E219 100%, #D7E219 "],"labels":["24,000","25,000","26,000","27,000","28,000","29,000","30,000","31,000","32,000"],"na_color":null,"na_label":null,"opacity":1,"position":"topright","type":"numeric","title":"Median income (USD)","extra":{"p_1":0,"p_n":1},"layerId":"legend401","className":"info legend nz","group":"nz"}]},{"method":"addCircles","args":[[-35.75111111,-37.65944444,-38.6725,-39.475,-39.94416667,-41.2775,-42.44472222,-41.75027778,-43.60611111,-45.87583333,-41.28555556],[174.3426973,176.1740872,178.0224971,176.9180801,174.9895171,174.7898704,171.20053,171.5912839,172.7102473,170.5193168,174.004417],[23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481],["Whangarei","Tauranga","Gisborne.1","Napier","Wanganui","Wellington.1","Greymouth","Westport","Lyttelton","Dunedin","Picton"],"nz_ports",{"interactive":true,"className":"","pane":"tmap402","stroke":true,"color":"#666666","weight":1,"opacity":0.5,"fill":true,"fillColor":["#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1]},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Whangarei<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Whangarei<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Tauranga<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Tauranga<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Gisborne<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Gisborne<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Napier<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Napier<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Wanganui<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Wanganui<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Wellington<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Wellington<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Greymouth<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Greymouth<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Westport<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Westport<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Lyttelton<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Lyttelton<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Dunedin<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Dunedin<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Picton<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Picton<\/nobr><\/td><\/tr><\/table><\/div>"],null,["Whangarei","Tauranga","Gisborne","Napier","Wanganui","Wellington","Greymouth","Westport","Lyttelton","Dunedin","Picton"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]},{"method":"addGraticule","args":[20,false,{"color":"#333","weight":1},null,null,{"interactive":true,"className":"","pane":"tmap403"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],["nz","nz_ports"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":false,"updateWhenIdle":true,"position":"bottomright"}]}],"limits":{"lat":[-47.2828524160058,-34.4145187168354],"lng":[166.426302914574,178.550373601283]},"fitBounds":[-47.2828524160058,166.426302914574,-34.4145187168354,178.550373601283,[]]},"evals":[],"jsHooks":[]}</script>
<p>As you can see above, the interactive mode has the same map layers, colors, and legend.
However, both modes have their own features.
For example, <code>tm_compass()</code>, <code>tm_logo()</code>, and <code>tm_credits()</code> only work in the static mode.
On the other hand, the interactive mode allows for zooming or panning, and also makes it possible to select and change the background tiles.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> We can also add some map elements available for interactive mode only, such as <code>tm_minimap()</code> or <code>tm_mouse_coordinates()</code>.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="making-maps-in-r.html#cb114-1"></a>tm3 <span class="op">+</span><span class="st"> </span></span>
<span id="cb114-2"><a href="making-maps-in-r.html#cb114-2"></a><span class="st">  </span><span class="kw">tm_minimap</span>() <span class="op">+</span></span>
<span id="cb114-3"><a href="making-maps-in-r.html#cb114-3"></a><span class="st">  </span><span class="kw">tm_mouse_coordinates</span>()</span>
<span id="cb114-4"><a href="making-maps-in-r.html#cb114-4"></a><span class="co">## Credits not supported in view mode.</span></span>
<span id="cb114-5"><a href="making-maps-in-r.html#cb114-5"></a><span class="co">## Logo not supported in view mode.</span></span>
<span id="cb114-6"><a href="making-maps-in-r.html#cb114-6"></a><span class="co">## Compass not supported in view mode.</span></span>
<span id="cb114-7"><a href="making-maps-in-r.html#cb114-7"></a><span class="co">## Warning: In view mode, scale bar breaks are ignored.</span></span>
<span id="cb114-8"><a href="making-maps-in-r.html#cb114-8"></a><span class="co">## only legends of type &quot;fill&quot; supported in view mode</span></span></code></pre></div>
<div id="htmlwidget-816f57b0e48dda35171f" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-816f57b0e48dda35171f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"createMapPane","args":["tmap402",402]},{"method":"createMapPane","args":["tmap403",403]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[174.616638800656,174.562809050564,174.481748333157,174.338965900234,174.214573266902,174.128772750479,174.045997583891,174.095972133855,174.155368483075,174.181866683395,174.135350500256,174.040527550541,173.983675883808,173.86604691657,173.688098133553,173.365180583183,173.356613017331,173.054243634031,173.130559999733,173.168093182624,173.167447217184,173.081005749918,172.851222917828,172.653880649817,172.69995103369,172.793065450767,172.869035233581,173.014442316542,172.984791449998,173.025130983722,173.120204417268,173.199324916413,173.280772883247,173.214814899913,173.288398249192,173.340087699738,173.286914883417,173.429163483407,173.389709633848,173.43403079967,173.535566349955,173.562634800269,173.644032483284,173.701142200014,173.74008500064,173.841272884062,173.931277716702,173.963284550175,174.078539632729,174.079958382619,174.125462949978,174.28978491699,174.350169531639,174.339655300127,174.468392016881,174.474719383801,174.536753999552,174.50237205005,174.557601466642,174.555188500026,174.485563450384,174.42268665044,174.404830266529,174.500809283377,174.460144966703,174.510000500399,174.589780900475,174.616638800656],"lat":[-36.1175604665955,-36.1790001827592,-36.2282769999432,-36.3168297168832,-36.2587116660859,-36.1736123994504,-36.170169550126,-36.2448879334658,-36.2760972327272,-36.3630358998131,-36.3920499169112,-36.3928830666112,-36.2337049996789,-36.0912001162456,-35.8924174497126,-35.5474016995135,-35.5228177334195,-35.1912381663496,-35.1789323328517,-35.1364273327505,-35.0363686494596,-34.8923919496618,-34.6297133663192,-34.4780076502047,-34.4263823994865,-34.4539942827612,-34.4145187168354,-34.4241368998064,-34.5278073326606,-34.6535190997586,-34.8166837671412,-34.8709688498192,-34.8925261172547,-34.9612557667477,-35.0132316332077,-34.9582312164518,-34.8634985660925,-34.8251486160708,-34.9534963329248,-34.985936149717,-34.9984530665285,-34.9215679665292,-34.9661940829241,-34.9524767161163,-35.0372064834494,-34.9943093161947,-35.0472986498451,-35.1188625998036,-35.1161315001266,-35.2730977500888,-35.2940340332261,-35.2751480001454,-35.3264187489332,-35.3768799004039,-35.4907537668788,-35.5563464661239,-35.5876817834871,-35.6408338001967,-35.7240167331065,-35.8608910000586,-35.7863742163629,-35.7848320998378,-35.8310155171767,-35.8410631829868,-35.9145349498201,-36.0304654495688,-36.0481898660515,-36.1175604665955]}]],[[{"lng":[175.291304133085,175.152091033439,175.141120333576,175.048242617195,174.990258082555,174.868951232796,174.815488049849,174.659628367495,174.538637882794,174.627048466479,174.690634167279,174.73950153409,174.857652450143,174.826874817006,174.744100215986,174.681552100084,174.583827667051,174.48303651745,174.468611433661,174.424401866458,174.273615083721,174.16870360025,174.187919333769,174.235835399823,174.312745950162,174.404776383887,174.43132198402,174.414885550516,174.25745998445,174.257569883856,174.373455166346,174.481748333157,174.562809050564,174.616638800656,174.657346033553,174.745751216322,174.818184083076,174.734791817454,174.723020317237,174.6928154505,174.740610167352,174.775982149355,174.735215883483,174.880847016882,174.95133831739,175.055796349564,175.093513100132,175.194032000505,175.28332898404,175.291304133085],"lat":[-37.0240384665269,-37.0215583499255,-37.1756033832982,-37.182271199634,-37.2165854996401,-37.2449866002433,-37.2286308828686,-37.2924320832104,-37.0766324001808,-37.0367340832569,-37.1366490000594,-37.1262254668411,-37.0510942830342,-37.0129061169001,-36.9843338828537,-36.9338147160376,-37.0073111163525,-37.0480030494191,-36.9540757993889,-36.8242195164743,-36.6113436505564,-36.4944308500372,-36.4344940164925,-36.4280906168409,-36.5364925994476,-36.6242364999823,-36.5110054662063,-36.4036616161879,-36.3809034491129,-36.3259556823771,-36.3194753664606,-36.2282769999432,-36.1790001827592,-36.1175604665955,-36.1775323830128,-36.2569215827736,-36.2852678662113,-36.4030681168194,-36.5128217502075,-36.5757347661774,-36.648003549368,-36.7735064498829,-36.841124949719,-36.8523293329453,-36.895384549847,-36.8826005993968,-36.9457113831122,-36.9343089329288,-36.9885057501568,-37.0240384665269]}],[{"lng":[175.397381334663,175.422708266539,175.483699566728,175.479485900624,175.543212183699,175.525421999773,175.437765849461,175.433490317008,175.35024318435,175.364852117958,175.326193733307,175.34179548326,175.397381334663],"lat":[-36.049713299334,-36.1291887990178,-36.1921515500181,-36.2444036833917,-36.2952009834157,-36.3476168495479,-36.307523166367,-36.2724128496347,-36.2285364497773,-36.1822376168855,-36.1382729818606,-36.0685923494045,-36.049713299334]}],[{"lng":[175.172594933364,175.14511235048,175.066499350381,175.038030716822,175.172594933364],"lat":[-36.7386591493701,-36.8474120331424,-36.8337360501136,-36.7957700665679,-36.7386591493701]}]],[[{"lng":[175.940104000403,175.913492216933,175.832775867556,175.809667417203,175.833586717063,175.927714949315,175.905873816582,175.977187833289,175.940945834187,176.075603717481,176.076019150588,176.150334834186,176.232057866462,176.297547798202,176.390623467125,176.429143533874,176.50532476716,176.45098049988,176.255113766945,176.258380934161,176.257562950888,176.147549683454,176.172753900527,176.085669116788,175.989206866078,175.964365549959,175.885970716458,175.812568800519,175.669211766574,175.557854216472,175.634656366174,175.617972132812,175.682012417337,175.562633650261,175.579969833542,175.546438183896,175.574620149733,175.523386533045,175.632458999383,175.612185166049,175.480939533801,175.38321201729,175.317760016591,175.213231183619,175.109226684129,174.954390867085,174.937845033609,174.862896367393,174.791960217277,174.655191183282,174.615147466571,174.64557498284,174.634641616934,174.715704749268,174.712538232633,174.690774649571,174.777037133266,174.895569600305,174.874875616366,174.77780156729,174.792085916113,174.75679855049,174.843696184123,174.956284466653,174.951308116722,174.837134500702,174.768715216871,174.700024633059,174.659628367495,174.815488049849,174.868951232796,174.990258082555,175.048242617195,175.141120333576,175.152091033439,175.291304133085,175.294966566686,175.323006283065,175.399204382699,175.544902117385,175.514084716696,175.519742083218,175.491002617546,175.408398483483,175.490180517216,175.494676733871,175.429445151763,175.447073067325,175.405834634532,175.344544616921,175.328268300531,175.368191233069,175.520191916265,175.522613315881,175.583391316676,175.578198899776,175.646650566192,175.788850933096,175.708633783133,175.781305150319,175.856004517196,175.842233483925,175.888322383072,175.878370950749,175.940104000403],"lat":[-37.3732415494177,-37.4255867168046,-37.4716019831908,-37.5138131497633,-37.6274871173512,-37.7760034327964,-37.8285516669824,-37.9136730328251,-37.9294224998321,-38.0495643996976,-38.1214420994632,-38.2181863995568,-38.2390825827257,-38.2295556170154,-38.3230470168629,-38.3134151168029,-38.4022137994137,-38.5616572328534,-38.8081781833421,-38.8899908832,-38.9478759665807,-39.0376737002045,-39.0784858666887,-39.1294486169037,-39.115548083218,-39.1798030168406,-39.2058951835182,-39.3003262165101,-39.2969341494396,-39.2759983495024,-39.1583628832968,-39.0812491668669,-38.9797105002429,-38.9868296998684,-38.9106842496727,-38.8598730996517,-38.8163002497247,-38.7500919668535,-38.5917750672203,-38.4876116162079,-38.4788807501445,-38.5422959832446,-38.5560422670198,-38.639399033155,-38.6245203666556,-38.6675035326607,-38.750158566659,-38.7745840666673,-38.7317766330068,-38.7332825998958,-38.7066484493599,-38.4563665331186,-38.387195516031,-38.3065037997108,-38.200598066221,-38.1176242502273,-38.1325016493315,-38.0859713163714,-38.0485370834874,-38.0815316832105,-38.0072839664294,-37.8638128168037,-37.8039134660885,-37.7924118832187,-37.7515311835379,-37.7936627827159,-37.5608502999387,-37.4167737834856,-37.2924320832104,-37.2286308828686,-37.2449866002433,-37.2165854996401,-37.182271199634,-37.1756033832982,-37.0215583499255,-37.0240384665269,-37.1211146497623,-37.1906320164387,-37.227041266647,-37.1573665495383,-37.0930035993995,-37.0341053993605,-36.9622664333836,-36.8575114002633,-36.8083106669992,-36.7619687494765,-36.7001410820403,-36.6600482663193,-36.5805631831099,-36.5530231170699,-36.4808005321015,-36.4685975823878,-36.540797348894,-36.5918639497278,-36.6272173993893,-36.6802999496879,-36.7363723666434,-36.7041192833087,-36.8325179663944,-36.8224126992364,-36.922808583448,-36.9474531172608,-37.0391867664023,-37.2003710497008,-37.3732415494177]}]],[[{"lng":[178.085284051072,178.107554901019,177.986683351304,177.9966216838,178.073006950751,177.972291634141,177.860967450378,177.73998423373,177.69206768402,177.604788567389,177.499270867243,177.463687900911,177.236922317735,177.257394033338,177.122170799865,177.045979500407,176.991448066688,176.878667633178,176.766746733663,176.717283066478,176.69597065003,176.601167800211,176.520452884076,176.468164783258,176.382140266513,176.303565400195,176.258380934161,176.255113766945,176.45098049988,176.50532476716,176.429143533874,176.390623467125,176.297547798202,176.232057866462,176.150334834186,176.076019150588,176.075603717481,175.940945834187,175.977187833289,175.905873816582,175.927714949315,175.833586717063,175.809667417203,175.832775867556,175.913492216933,175.940104000403,175.963443900661,175.934805299819,175.975048966784,176.053118300074,176.186754767107,176.250032000856,176.419017433437,176.477600450904,176.601950900428,176.736143750086,176.931668933884,177.083869783436,177.160565467622,177.383685833984,177.487534484234,177.546790133806,177.619619200899,177.683952433894,177.72763573395,177.868536418064,177.958640534699,178.006622350124,178.085284051072],"lat":[-37.5423911663695,-37.5987159661319,-37.6087571334111,-37.7602764999712,-37.7635896995148,-37.8450054663352,-38.1116561665495,-38.0420469669081,-38.1082776001083,-38.1866207665939,-38.218466749553,-38.3335362666423,-38.4263417997097,-38.5082771662098,-38.5839209335325,-38.6208022330665,-38.6936945832943,-38.6671346494108,-38.6893096832454,-38.7245242995849,-38.8215917663086,-38.8255591330702,-38.7968662996433,-38.9415194661341,-38.9887032829079,-38.9017194500041,-38.8899908832,-38.8081781833421,-38.5616572328534,-38.4022137994137,-38.3134151168029,-38.3230470168629,-38.2295556170154,-38.2390825827257,-38.2181863995568,-38.1214420994632,-38.0495643996976,-37.9294224998321,-37.9136730328251,-37.8285516669824,-37.7760034327964,-37.6274871173512,-37.5138131497633,-37.4716019831908,-37.4255867168046,-37.3732415494177,-37.4333808167608,-37.536853366205,-37.6239334661435,-37.6595265665208,-37.634790017341,-37.6800395996492,-37.7484934666571,-37.7541410500579,-37.8295142668897,-37.8795955831546,-37.9168967001651,-37.9788140829092,-37.9898454665602,-37.9836964665806,-37.9495595663945,-37.9075796830729,-37.8107283001314,-37.7601537161273,-37.6801879496912,-37.6533825667405,-37.6053283331363,-37.5531278668578,-37.5423911663695]}]],[[{"lng":[177.898992867599,177.834796917622,177.799025001196,177.660163933843,177.660490067463,177.597522800646,177.494212084347,177.447906750288,177.353425167718,177.307560650098,177.122170799865,177.257394033338,177.236922317735,177.463687900911,177.499270867243,177.604788567389,177.69206768402,177.73998423373,177.860967450378,177.972291634141,178.073006950751,177.9966216838,177.986683351304,178.107554901019,178.085284051072,178.174634084159,178.27630185211,178.36371060177,178.482593484816,178.550373601283,178.41585801832,178.391299368696,178.337261951675,178.373593884028,178.321955168811,178.338370118128,178.312409502003,178.344519151932,178.281772317683,178.293040667684,178.198843134477,178.050040402873,177.972729617512,177.911783384716,177.898992867599],"lat":[-38.9718330668037,-38.9527794162303,-38.8943903001803,-38.9047009167065,-38.8489419163927,-38.8070414997931,-38.7779742831157,-38.6359438828921,-38.6245578664864,-38.6597042000079,-38.5839209335325,-38.5082771662098,-38.4263417997097,-38.3335362666423,-38.218466749553,-38.1866207665939,-38.1082776001083,-38.0420469669081,-38.1116561665495,-37.8450054663352,-37.7635896995148,-37.7602764999712,-37.6087571334111,-37.5987159661319,-37.5423911663695,-37.534658299652,-37.5544868664312,-37.631004199356,-37.6410965159531,-37.6920842500843,-37.8580439169652,-37.9613996666553,-38.0095467667522,-38.0944882331678,-38.1221914165945,-38.1917070830343,-38.2415486163282,-38.4184646333134,-38.4721755162877,-38.526928333314,-38.6055091159961,-38.7020828327625,-38.6812606832734,-38.8279248668031,-38.9718330668037]}]],[[{"lng":[177.898992867599,177.9017996505,178.001674401045,177.92431856696,177.906174350565,177.850842017112,177.839268633773,177.870901817844,177.75596521677,177.636631150037,177.421363584246,177.259161701191,177.046117517361,176.989527483501,176.919394050451,176.876375366295,176.924177550286,176.922247883074,176.966353650113,177.075499034915,177.011022417518,177.005106232808,176.932128366662,176.888223216917,176.868997500491,176.794396933441,176.687031283296,176.622569049891,176.443295266386,176.359488317335,176.378605866566,176.32321406684,176.204970833786,176.136627349809,176.09383140064,176.106847067352,176.17685259975,176.195937933828,176.142726417604,176.183756817499,176.136827417623,176.111859467523,176.121760383432,176.080882450312,176.115201750033,176.085669116788,176.172753900527,176.147549683454,176.257562950888,176.258380934161,176.303565400195,176.382140266513,176.468164783258,176.520452884076,176.601167800211,176.69597065003,176.717283066478,176.766746733663,176.878667633178,176.991448066688,177.045979500407,177.122170799865,177.307560650098,177.353425167718,177.447906750288,177.494212084347,177.597522800646,177.660490067463,177.660163933843,177.799025001196,177.834796917622,177.898992867599],"lat":[-38.9718330668037,-39.0729589163746,-39.1049364834253,-39.170128766505,-39.2262764656247,-39.2334497993429,-39.1523278989566,-39.0876976334651,-39.0586759164819,-39.0504614667207,-39.0626328994174,-39.1006631831779,-39.1939367500206,-39.2940027839539,-39.3400230830998,-39.4226607995911,-39.4759893490698,-39.5495836494558,-39.6235120826987,-39.673259415579,-39.7427146832489,-39.8359419166031,-39.9352899665187,-40.0255260161828,-40.1313829665878,-40.2053349997861,-40.2563932328157,-40.4280165161931,-40.407388833065,-40.1971025165439,-40.1581407167419,-40.0937170162861,-40.0189951167996,-40.028578133887,-39.9955025832942,-39.9172052497374,-39.7440490995691,-39.6635709666433,-39.5846827831589,-39.5389751331424,-39.4752775333261,-39.3849908334676,-39.3263642668672,-39.2591636994191,-39.217689216508,-39.1294486169037,-39.0784858666887,-39.0376737002045,-38.9478759665807,-38.8899908832,-38.9017194500041,-38.9887032829079,-38.9415194661341,-38.7968662996433,-38.8255591330702,-38.8215917663086,-38.7245242995849,-38.6893096832454,-38.6671346494108,-38.6936945832943,-38.6208022330665,-38.5839209335325,-38.6597042000079,-38.6245578664864,-38.6359438828921,-38.7779742831157,-38.8070414997931,-38.8489419163927,-38.9047009167065,-38.8943903001803,-38.9527794162303,-38.9718330668037]}]],[[{"lng":[174.615147466571,174.655191183282,174.791960217277,174.862896367393,174.819869750297,174.798771383129,174.82803073341,174.764415417466,174.788411450134,174.675169549981,174.755642432479,174.747802983227,174.891668949943,174.871353583229,174.928495867377,174.967386967073,174.97262881664,174.930618333552,174.784081849931,174.716569950035,174.558874867369,174.444514817259,174.352709617041,174.201535516873,174.076819100748,173.910845583182,173.794988949217,173.75158500083,173.794817016681,173.909613299173,174.088957305084,174.200815833298,174.390964834124,174.559947483204,174.615147466571],"lat":[-38.7066484493599,-38.7332825998958,-38.7317766330068,-38.7745840666673,-38.7875171166311,-38.8652667999914,-38.923704366338,-39.0047909500201,-39.0678331830544,-39.1298299493616,-39.2336436335003,-39.2757990163096,-39.3582403665654,-39.401065466581,-39.4761503161982,-39.4862796832774,-39.653146100114,-39.7244787999056,-39.8579774497812,-39.8672062167774,-39.8174444664505,-39.7506608664429,-39.6590780832936,-39.588083783155,-39.5773399666899,-39.5148036332211,-39.4150641328049,-39.2803068998594,-39.1924945673116,-39.1211085998946,-39.050930172386,-38.9883909501843,-38.9888580830121,-38.855913583522,-38.7066484493599]}]],[[{"lng":[176.085669116788,176.115201750033,176.080882450312,176.121760383432,176.111859467523,176.136827417623,176.183756817499,176.142726417604,176.195937933828,176.17685259975,176.106847067352,176.09383140064,176.136627349809,176.204970833786,176.32321406684,176.378605866566,176.359488317335,176.443295266386,176.622569049891,176.620793584048,176.493457017513,176.33276253349,176.211253483372,176.082334183401,176.02244929987,175.871636834196,175.764739183997,175.77010965014,175.690650115948,175.653222466794,175.473443566666,175.439643550552,175.371593716648,175.266658932695,175.136486700712,175.190707066475,175.227057750243,175.223560650608,175.198135366129,175.162540683897,175.045463016741,174.927877449905,174.784081849931,174.930618333552,174.97262881664,174.967386967073,174.928495867377,174.871353583229,174.891668949943,174.747802983227,174.755642432479,174.675169549981,174.788411450134,174.764415417466,174.82803073341,174.798771383129,174.819869750297,174.862896367393,174.937845033609,174.954390867085,175.109226684129,175.213231183619,175.317760016591,175.38321201729,175.480939533801,175.612185166049,175.632458999383,175.523386533045,175.574620149733,175.546438183896,175.579969833542,175.562633650261,175.682012417337,175.617972132812,175.634656366174,175.557854216472,175.669211766574,175.812568800519,175.885970716458,175.964365549959,175.989206866078,176.085669116788],"lat":[-39.1294486169037,-39.217689216508,-39.2591636994191,-39.3263642668672,-39.3849908334676,-39.4752775333261,-39.5389751331424,-39.5846827831589,-39.6635709666433,-39.7440490995691,-39.9172052497374,-39.9955025832942,-40.028578133887,-40.0189951167996,-40.0937170162861,-40.1581407167419,-40.1971025165439,-40.407388833065,-40.4280165161931,-40.4917772330373,-40.5305003327721,-40.697900799416,-40.6592102828478,-40.7081527160579,-40.7114886668745,-40.7779047333494,-40.7680905667094,-40.6988883998422,-40.6965623329828,-40.7424894827011,-40.6933970997398,-40.7441521327217,-40.7268607830085,-40.7686105330861,-40.7003334998074,-40.5669227160489,-40.3980753833689,-40.2930346163214,-40.1765422327759,-40.1071686334006,-39.9854570661162,-39.8993730493337,-39.8579774497812,-39.7244787999056,-39.653146100114,-39.4862796832774,-39.4761503161982,-39.401065466581,-39.3582403665654,-39.2757990163096,-39.2336436335003,-39.1298299493616,-39.0678331830544,-39.0047909500201,-38.923704366338,-38.8652667999914,-38.7875171166311,-38.7745840666673,-38.750158566659,-38.6675035326607,-38.6245203666556,-38.639399033155,-38.5560422670198,-38.5422959832446,-38.4788807501445,-38.4876116162079,-38.5917750672203,-38.7500919668535,-38.8163002497247,-38.8598730996517,-38.9106842496727,-38.9868296998684,-38.9797105002429,-39.0812491668669,-39.1583628832968,-39.2759983495024,-39.2969341494396,-39.3003262165101,-39.2058951835182,-39.1798030168406,-39.115548083218,-39.1294486169037]}]],[[{"lng":[176.33276253349,176.267228400183,176.224487017583,176.154899234065,176.106925633451,176.06247941692,176.003310849804,175.961835883779,175.899294816757,175.811865650044,175.675583900734,175.58518594996,175.533100033117,175.433381416302,175.325406533484,175.236423100173,175.195284183578,175.216735033403,175.043268483566,174.924173882771,174.847847867082,174.912076183578,174.84435636702,174.785921437228,174.839045832862,174.705109599961,174.66078746668,174.623012999722,174.711288199763,174.794672150245,174.867167799271,174.846312016586,174.938811199179,174.989772533759,175.035492733743,175.136486700712,175.266658932695,175.371593716648,175.439643550552,175.473443566666,175.653222466794,175.690650115948,175.77010965014,175.764739183997,175.871636834196,176.02244929987,176.082334183401,176.211253483372,176.33276253349],"lat":[-40.697900799416,-40.7848636000785,-40.9064747168577,-40.9481505495627,-41.0152208993286,-41.1310157498429,-41.1717069160855,-41.2447749001051,-41.263295699946,-41.3596269993307,-41.4137952330758,-41.487372832698,-41.4965452334551,-41.568835716916,-41.6059589661807,-41.6051656500547,-41.5238026326986,-41.4315767334165,-41.3733172995721,-41.434702866697,-41.3594841327964,-41.2597096998983,-41.2288581497398,-41.2651837993434,-41.325258266261,-41.357110466716,-41.340375233043,-41.260325633351,-41.2199340172696,-41.1246902997312,-41.0867387663926,-41.0499113660407,-41.0003014665634,-40.8786943168908,-40.8516626997223,-40.7003334998074,-40.7686105330861,-40.7268607830085,-40.7441521327217,-40.6933970997398,-40.7424894827011,-40.6965623329828,-40.6988883998422,-40.7680905667094,-40.7779047333494,-40.7114886668745,-40.7081527160579,-40.6592102828478,-40.697900799416]}]],[[{"lng":[172.479030949819,172.444256900204,172.348260516017,172.235513800302,172.1330007499,172.094375383646,171.974953333456,171.915639166648,171.841774433461,171.763848766853,171.746369750711,171.69066966728,171.44922653414,171.411630450039,171.316264849941,171.237669015979,171.197689267427,171.079330766508,170.993271149153,170.937214367317,170.830348166594,170.70569891615,170.592312017226,170.528889117364,170.395291850712,170.322861434049,170.238421217139,170.098131417274,170.091407749954,169.965530866418,169.900034783336,169.699336634166,169.592780550635,169.591375933128,169.372957082297,169.275178699666,169.188798133306,169.147102432454,168.975078451156,168.96335649954,168.849166000554,168.836083532939,168.728392349302,168.625502799972,168.460041532736,168.334527917187,168.407363598795,168.349075433004,168.347349198927,168.224958950158,168.1319289655,168.052080299308,168.245224000031,168.327532100226,168.386086599038,168.512572866105,168.596033082782,168.709528882769,168.815458849903,168.888444332937,168.969334415735,169.209384000714,169.426815166859,169.59167065054,169.690794066988,169.793601633185,169.981233500255,170.050894783883,170.266101450359,170.257309000665,170.34165461676,170.420541400346,170.524388600502,170.720963766413,170.867846066505,170.947971800697,171.051014333038,171.167346766778,171.218172099769,171.304561750154,171.321142133862,171.417931516559,171.455980199127,171.462321733036,171.587717983286,171.670754701712,171.828431383484,171.882088466121,171.987652299441,172.063382449494,172.092597800296,172.111628817585,172.094501582949,172.133988150577,172.217804650849,172.229036100221,172.370078216958,172.310335033614,172.493938299216,172.485968450507,172.618004983595,172.657937583202,172.600312034113,172.584361567505,172.46311268413,172.418018282578,172.34245996745,172.320665484129,172.238130649319,172.247078967484,172.129322299744,172.115730567145,172.052126816993,172.135203666157,172.206730749948,172.26099479982,172.331950216583,172.335875833233,172.369593532568,172.479030949819],"lat":[-42.2770294331018,-42.3659640998714,-42.3913898493678,-42.4567272663214,-42.5552061664186,-42.6204476501529,-42.6389925162953,-42.6817304496183,-42.7745563165371,-42.7917224165052,-42.8740807000333,-42.9008274327487,-42.9092283835239,-42.950759216649,-42.9474959831915,-43.0025114832476,-43.0742574837314,-43.102300650144,-43.2153140832055,-43.2040572826524,-43.2835111333338,-43.3207865163982,-43.434014166647,-43.41035221676,-43.4980506000732,-43.4903493001037,-43.5138270161936,-43.5954793833291,-43.6603731668313,-43.7917623165842,-43.8129979662184,-43.9635462831413,-43.9580761662848,-44.0125360168529,-44.1169906667223,-44.0985810003063,-44.1105468993574,-44.0802167659312,-44.1440294839761,-44.199936332986,-44.2466723496502,-44.3399177501499,-44.4194781170877,-44.4339354666367,-44.4953348162634,-44.4967794329974,-44.375114782965,-44.3304824000169,-44.2842383168839,-44.2568242500963,-44.2811937826191,-44.2586477665919,-44.1580564167771,-44.0494656167805,-44.0035227664975,-44.0018953502124,-43.9725449329757,-43.9942465499117,-43.9674074836821,-43.9053743500885,-43.8784611500177,-43.7192994001206,-43.6253148330259,-43.5990183996295,-43.5430910166687,-43.4215250502158,-43.3578198495791,-43.2918990002289,-43.1725636158674,-43.1188153494437,-43.0966792499988,-43.036161432916,-43.0173943501819,-42.9301012999167,-42.8228048660285,-42.7232656999423,-42.650688316635,-42.5078089999824,-42.38101976624,-42.2672141667554,-42.1532471998936,-41.9177566328917,-41.8824885829434,-41.7497772332918,-41.7299331833209,-41.7398889758327,-41.6470442500159,-41.6006758828507,-41.4457266661766,-41.3840702160795,-41.2827791501859,-41.0257784662469,-40.9162500830626,-40.8506217828755,-40.774542766922,-40.8558806664317,-40.970752467169,-41.0135581163049,-41.0245242002209,-41.0542427327253,-41.1598956494172,-41.2391689995477,-41.3018332326644,-41.3761944999728,-41.4043775665214,-41.4716592493264,-41.5131613498066,-41.6102873667713,-41.6395180999667,-41.6842177167129,-41.7140016329479,-41.8684047996712,-41.9451821329827,-42.1040439833841,-42.0983147832208,-42.1483124834356,-42.1506392829357,-42.2342079660401,-42.2806025168197,-42.2770294331018]}]],[[{"lng":[174.048786900106,173.966599600681,173.892544684064,173.697996616623,173.671647083024,173.594467415866,173.509134350058,173.479398800221,173.368425849937,173.241651783235,173.14498353365,173.080542450878,172.816906899328,172.73369503355,172.704087800548,172.71511108423,172.776007199763,173.040053516148,173.102133650692,173.130149783874,173.100509666792,172.997729132882,172.836626966534,172.728520416444,172.587602799177,172.31661868302,172.028047117075,171.614830016684,171.439070166985,171.333436083013,171.244871200256,171.258240632396,171.195791149221,171.159184499413,171.167954350424,171.144153632672,170.882433150378,170.658825416631,170.636873433877,170.542436216333,170.447188600345,170.397211283578,170.349440716734,170.373258400943,170.31935306623,170.242072667455,170.094098767269,169.996618083493,169.944216317563,169.836191183413,169.757151799328,169.644210749049,169.633685649873,169.545884367463,169.577100816617,169.571069933852,169.71703741641,169.699336634166,169.900034783336,169.965530866418,170.091407749954,170.098131417274,170.238421217139,170.322861434049,170.395291850712,170.528889117364,170.592312017226,170.70569891615,170.830348166594,170.937214367317,170.993271149153,171.079330766508,171.197689267427,171.237669015979,171.316264849941,171.411630450039,171.44922653414,171.69066966728,171.746369750711,171.763848766853,171.841774433461,171.915639166648,171.974953333456,172.094375383646,172.1330007499,172.235513800302,172.348260516017,172.444256900204,172.479030949819,172.614713433524,172.639183050117,172.721472999322,172.7216385824,172.823290099099,172.84243633332,172.914144833248,172.94139345023,172.992906316788,173.035789000756,173.189895532864,173.24452471748,173.312201366903,173.464463350147,173.499107499943,173.720210166329,173.744379950814,173.817253667021,173.955504883873,174.048786900106],"lat":[-41.9681092162646,-42.0447000162222,-42.1892206160537,-42.3510559327565,-42.4129525826812,-42.4284450168009,-42.5056333005132,-42.5927161833282,-42.7988198827147,-42.9528653661391,-42.9864308666849,-43.0507309163817,-43.1332584499975,-43.2550360161799,-43.3903552166644,-43.5479150830902,-43.5827193328042,-43.6552001167668,-43.6956743333898,-43.7627759999603,-43.8318133828904,-43.8873741827173,-43.8897602829967,-43.8276729498342,-43.8332652162497,-43.867088416516,-43.9583162998822,-44.1318285168831,-44.2233021661721,-44.2951907165708,-44.3817173994063,-44.4457059831107,-44.5267523667682,-44.6278346999366,-44.8761730664355,-44.9403990326692,-44.8910093998382,-44.9092402835565,-44.9513015836403,-44.9850467672386,-45.0659566666375,-45.0809043668126,-45.0216976998938,-44.952776016064,-44.9030489828625,-44.9307172500718,-44.9400199335113,-44.8215735834641,-44.6539842168892,-44.6688994161829,-44.6121328160996,-44.5858154998365,-44.4624053000104,-44.4226623997473,-44.3456657832859,-44.1772291501172,-44.0382773160894,-43.9635462831413,-43.8129979662184,-43.7917623165842,-43.6603731668313,-43.5954793833291,-43.5138270161936,-43.4903493001037,-43.4980506000732,-43.41035221676,-43.434014166647,-43.3207865163982,-43.2835111333338,-43.2040572826524,-43.2153140832055,-43.102300650144,-43.0742574837314,-43.0025114832476,-42.9474959831915,-42.950759216649,-42.9092283835239,-42.9008274327487,-42.8740807000333,-42.7917224165052,-42.7745563165371,-42.6817304496183,-42.6389925162953,-42.6204476501529,-42.5552061664186,-42.4567272663214,-42.3913898493678,-42.3659640998714,-42.2770294331018,-42.1954626498853,-42.100794682948,-42.1034917994144,-42.1586981838838,-42.2047070167556,-42.2891840664554,-42.3086089000796,-42.3778250335189,-42.4038495339355,-42.4834705328753,-42.4105463995064,-42.3031041161591,-42.2503815997009,-42.1956736999058,-42.0787366833914,-41.9607712162509,-41.9073832665118,-41.9329969833555,-41.9126783171107,-41.9681092162646]}]],[[{"lng":[169.699336634166,169.71703741641,169.571069933852,169.577100816617,169.545884367463,169.633685649873,169.644210749049,169.757151799328,169.836191183413,169.944216317563,169.996618083493,170.094098767269,170.242072667455,170.31935306623,170.373258400943,170.349440716734,170.397211283578,170.447188600345,170.542436216333,170.636873433877,170.658825416631,170.882433150378,171.144153632672,171.100528099082,170.973751149775,170.904456867088,170.831473232453,170.831145883379,170.75579789982,170.725243549953,170.653058832418,170.600894433297,170.658593699997,170.663784716405,170.511765316615,170.297526650457,170.196885316544,170.168560666662,169.923941867013,169.798088316601,169.797051965829,169.587586633489,169.477118166607,169.404843300495,169.279166266414,169.200940883149,169.250660233484,169.172959832917,169.195997516617,169.134143867466,169.190826583046,169.198060700759,169.159619899649,169.153328134215,169.067252783254,169.091515616554,169.00519949925,168.993372050492,169.129045084084,169.140231617195,169.211048582416,169.099293032989,169.065469000252,168.959565366235,168.88690013254,168.78245703227,168.751634949745,168.692215200617,168.674105117399,168.539401382992,168.323294049703,168.300759133193,168.217006498699,168.284206182425,168.292267949264,168.133993849733,168.117214416135,168.191001933063,168.172333382998,168.234509799649,168.334527917187,168.460041532736,168.625502799972,168.728392349302,168.836083532939,168.849166000554,168.96335649954,168.975078451156,169.147102432454,169.188798133306,169.275178699666,169.372957082297,169.591375933128,169.592780550635,169.699336634166],"lat":[-43.9635462831413,-44.0382773160894,-44.1772291501172,-44.3456657832859,-44.4226623997473,-44.4624053000104,-44.5858154998365,-44.6121328160996,-44.6688994161829,-44.6539842168892,-44.8215735834641,-44.9400199335113,-44.9307172500718,-44.9030489828625,-44.952776016064,-45.0216976998938,-45.0809043668126,-45.0659566666375,-44.9850467672386,-44.9513015836403,-44.9092402835565,-44.8910093998382,-44.9403990326692,-45.0030083668311,-45.0991354496446,-45.1744155169318,-45.3055600328616,-45.4735115163292,-45.5334878502003,-45.5959489167714,-45.6310545499711,-45.7107696833627,-45.7588499501476,-45.9035087330446,-45.9091708334976,-45.9623933001854,-46.0625319333923,-46.1545419165179,-46.2983543338468,-46.3546976165361,-46.4513536994124,-46.5657448494185,-46.5613084168585,-46.612326249574,-46.6224137668428,-46.5607098329384,-46.5143265833878,-46.4861186664512,-46.4044065827567,-46.3754392332203,-46.3264038994531,-46.2126295493632,-46.175637150073,-46.04874471621,-45.9804276164781,-45.882556116601,-45.8634921999957,-45.7285384168417,-45.5203341827282,-45.4652520830163,-45.416771999385,-45.3199457495541,-45.2696099000556,-45.3591220831272,-45.4628204660881,-45.4370390834154,-45.3675663496802,-45.3396697501243,-45.2430717497138,-45.3093267168891,-45.3275431668485,-45.2246531168759,-45.1445409498591,-45.1061745334867,-45.0438246332288,-44.941441066775,-44.8714499496131,-44.7667900998971,-44.7045591835111,-44.5431956997936,-44.4967794329974,-44.4953348162634,-44.4339354666367,-44.4194781170877,-44.3399177501499,-44.2466723496502,-44.199936332986,-44.1440294839761,-44.0802167659312,-44.1105468993574,-44.0985810003063,-44.1169906667223,-44.0125360168529,-43.9580761662848,-43.9635462831413]}]],[[{"lng":[168.334527917187,168.234509799649,168.172333382998,168.191001933063,168.117214416135,168.133993849733,168.292267949264,168.284206182425,168.217006498699,168.300759133193,168.323294049703,168.539401382992,168.674105117399,168.692215200617,168.751634949745,168.78245703227,168.88690013254,168.959565366235,169.065469000252,169.099293032989,169.211048582416,169.140231617195,169.129045084084,168.993372050492,169.00519949925,169.091515616554,169.067252783254,169.153328134215,169.159619899649,169.198060700759,169.190826583046,169.134143867466,169.195997516617,169.172959832917,169.250660233484,169.200940883149,169.279166266414,169.22036591599,169.112977633915,169.005877783088,168.847240616637,168.793966399601,168.602963450626,168.515573883226,168.352956367462,168.265940499968,168.26360971254,168.190226399742,168.06494099935,168.015834933344,167.931857766403,167.783985415679,167.697388533509,167.712351199088,167.611463132559,167.53328326551,167.403100265785,167.36041789911,167.217213498612,167.105668632816,166.85248326508,166.778670298321,166.657467513834,166.618782631882,166.682766415625,166.698540013858,166.615138531335,166.611146481073,166.555778430931,166.449630281668,166.426302914574,166.450324479865,166.518401048488,166.622173080915,166.804038747773,166.730721582164,166.751807813934,166.731030032183,166.671602280962,166.684135131589,166.844406780597,166.908979298452,167.007590898471,166.967797181292,167.002267430718,167.271321765735,167.500637449284,167.571723433206,167.751370432539,167.817211299564,167.827906549916,167.87268493277,167.973286216338,168.008558299815,168.097524282888,168.052080299308,168.1319289655,168.224958950158,168.347349198927,168.349075433004,168.407363598795,168.334527917187],"lat":[-44.4967794329974,-44.5431956997936,-44.7045591835111,-44.7667900998971,-44.8714499496131,-44.941441066775,-45.0438246332288,-45.1061745334867,-45.1445409498591,-45.2246531168759,-45.3275431668485,-45.3093267168891,-45.2430717497138,-45.3396697501243,-45.3675663496802,-45.4370390834154,-45.4628204660881,-45.3591220831272,-45.2696099000556,-45.3199457495541,-45.416771999385,-45.4652520830163,-45.5203341827282,-45.7285384168417,-45.8634921999957,-45.882556116601,-45.9804276164781,-46.04874471621,-46.175637150073,-46.2126295493632,-46.3264038994531,-46.3754392332203,-46.4044065827567,-46.4861186664512,-46.5143265833878,-46.5607098329384,-46.6224137668428,-46.656223099872,-46.6445697998936,-46.6743386331633,-46.6586199329358,-46.5811262500882,-46.5519047497942,-46.5742984501617,-46.5362781992669,-46.5559335326646,-46.4953184340233,-46.3853629167499,-46.3392979665928,-46.3838269830026,-46.3581014999452,-46.3890891171229,-46.307961466909,-46.2576959503765,-46.1914227661012,-46.16240946673,-46.1520754166419,-46.2369484002097,-46.2625064668733,-46.25366113273,-46.2084794827791,-46.222072183102,-46.20228694959,-46.1487916665506,-46.115505482954,-46.05823409979,-46.0600605832903,-45.9997223499968,-45.9746464495691,-45.9949010500723,-45.9044508994386,-45.818964083446,-45.794390016666,-45.7910534165939,-45.759831816707,-45.7281351169409,-45.6676932499871,-45.5947802672105,-45.574992932913,-45.5132728166055,-45.2758819164536,-45.3074377165583,-45.3141696665502,-45.1937010839229,-45.1255542171957,-44.8704801002207,-44.7480579001324,-44.6858730830295,-44.5806611495955,-44.5991209997801,-44.5075593496395,-44.4342743666374,-44.3866309826956,-44.3250568994953,-44.327164299694,-44.2586477665919,-44.2811937826191,-44.2568242500963,-44.2842383168839,-44.3304824000169,-44.375114782965,-44.4967794329974]}],[{"lng":[167.869696716553,167.976547566294,168.001210732076,168.141792199061,168.141009317838,168.031908183908,167.978834599659,168.150523283786,168.214668599019,168.15639086674,167.954351350313,167.825699751352,167.710747198798,167.636122349395,167.646031498693,167.466622084097,167.466427316638,167.575995200266,167.579121549914,167.649750531859,167.694039966266,167.759027315244,167.756471366353,167.704121799979,167.754640632138,167.869696716553],"lat":[-46.6842310166752,-46.7237613987849,-46.785762665437,-46.8618585329575,-46.909408299092,-46.8968874826732,-46.928878233435,-46.9664681179055,-46.9944344838292,-47.1041435162499,-47.1292745649547,-47.1913799838493,-47.1604565164636,-47.2102895331876,-47.2637216324405,-47.2828524160058,-47.2165166326058,-47.16624331603,-47.0853388999095,-47.0364652490045,-46.967082999694,-46.9370851821983,-46.860982265505,-46.7544420165422,-46.6946847164946,-46.6842310166752]}],[{"lng":[166.678832281489,166.716482698834,166.723640182258,166.684653831234,166.588378964322,166.536803814148,166.678832281489],"lat":[-45.6003756001343,-45.6245835332561,-45.6992354496554,-45.7481735831086,-45.7207469668143,-45.6343713996404,-45.6003756001343]}],[{"lng":[166.962425848418,166.949393049243,166.987792331855,166.947416381365,166.868999981552,166.962425848418],"lat":[-45.1477982831904,-45.2031774998176,-45.2585408501287,-45.2941630663986,-45.2405394834619,-45.1477982831904]}]],[[{"lng":[173.198887399729,173.297443983366,173.250831384127,173.304149350489,173.168700533592,173.151614666983,173.086652616993,173.003789650797,172.926235200656,172.847570550194,172.86109313253,172.735298849099,172.721472999322,172.639183050117,172.614713433524,172.479030949819,172.369593532568,172.335875833233,172.331950216583,172.26099479982,172.206730749948,172.135203666157,172.052126816993,172.115730567145,172.129322299744,172.247078967484,172.238130649319,172.320665484129,172.34245996745,172.418018282578,172.46311268413,172.584361567505,172.600312034113,172.657937583202,172.618004983595,172.485968450507,172.493938299216,172.310335033614,172.370078216958,172.229036100221,172.217804650849,172.292207984059,172.447285383514,172.60562558292,172.642595651343,172.728820134899,172.688014218755,172.692504033943,172.798009667228,172.886338016923,172.990330217499,173.063517816826,173.012366349789,173.033520217139,173.009530717519,173.06578501716,173.104255083169,173.198887399729],"lat":[-41.3306196997791,-41.3931415162841,-41.4665801165597,-41.5060320836021,-41.5311546995344,-41.5854709831824,-41.6249252333708,-41.7248032669465,-41.7577336161561,-41.8742874663503,-41.922462966173,-42.0578953163068,-42.1034917994144,-42.100794682948,-42.1954626498853,-42.2770294331018,-42.2806025168197,-42.2342079660401,-42.1506392829357,-42.1483124834356,-42.0983147832208,-42.1040439833841,-41.9451821329827,-41.8684047996712,-41.7140016329479,-41.6842177167129,-41.6395180999667,-41.6102873667713,-41.5131613498066,-41.4716592493264,-41.4043775665214,-41.3761944999728,-41.3018332326644,-41.2391689995477,-41.1598956494172,-41.0542427327253,-41.0245242002209,-41.0135581163049,-40.970752467169,-40.8558806664317,-40.774542766922,-40.7473438326445,-40.6295302334271,-40.5644542999246,-40.5081192334842,-40.5290822657834,-40.5827790489968,-40.727883200224,-40.8162795663944,-40.832379632699,-40.7811902663518,-40.9057494657392,-40.9921395165867,-41.0887589498834,-41.1437780995651,-41.1838260998853,-41.2901597329138,-41.3306196997791]}]],[[{"lng":[173.297443983366,173.198887399729,173.221776466012,173.310618882688,173.32361723313,173.412776467452,173.461631133591,173.593891449768,173.568365816496,173.523007850712,173.415419299657,173.40678916666,173.297443983366],"lat":[-41.3931415162841,-41.3306196997791,-41.2930119000107,-41.2507582163573,-41.2037450165945,-41.1494512164174,-41.166853316328,-41.0511199330342,-41.1897309661648,-41.1979918667514,-41.2891416995075,-41.3309583501785,-41.3931415162841]}]],[[{"lng":[174.048786900106,173.955504883873,173.817253667021,173.744379950814,173.720210166329,173.499107499943,173.464463350147,173.312201366903,173.24452471748,173.189895532864,173.035789000756,172.992906316788,172.94139345023,172.914144833248,172.84243633332,172.823290099099,172.7216385824,172.721472999322,172.735298849099,172.86109313253,172.847570550194,172.926235200656,173.003789650797,173.086652616993,173.151614666983,173.168700533592,173.304149350489,173.250831384127,173.297443983366,173.40678916666,173.415419299657,173.523007850712,173.568365816496,173.593891449768,173.673303050289,173.802376834404,173.85077169915,173.868127116147,173.93680894915,173.993088400438,174.079004183599,174.17580193353,174.219448550258,174.12449421688,174.133062266944,174.048447900196,174.033535683903,174.072046116608,174.150420350879,174.15696061672,174.198299267036,174.275035250512,174.196758333519,174.048786900106],"lat":[-41.9681092162646,-41.9126783171107,-41.9329969833555,-41.9073832665118,-41.9607712162509,-42.0787366833914,-42.1956736999058,-42.2503815997009,-42.3031041161591,-42.4105463995064,-42.4834705328753,-42.4038495339355,-42.3778250335189,-42.3086089000796,-42.2891840664554,-42.2047070167556,-42.1586981838838,-42.1034917994144,-42.0578953163068,-41.922462966173,-41.8742874663503,-41.7577336161561,-41.7248032669465,-41.6249252333708,-41.5854709831824,-41.5311546995344,-41.5060320836021,-41.4665801165597,-41.3931415162841,-41.3309583501785,-41.2891416995075,-41.1979918667514,-41.1897309661648,-41.0511199330342,-41.0342675989915,-40.9722475322947,-41.0223203830977,-41.1442067667642,-41.0834601826368,-41.1021083834405,-41.016276216295,-40.9990567827128,-41.0713428828276,-41.2362538666924,-41.2853295661891,-41.3931097327586,-41.4763469339475,-41.5239591995643,-41.5594337667529,-41.6476697164152,-41.7232352500816,-41.7428873668597,-41.835604316821,-41.9681092162646]}],[{"lng":[173.956358883868,173.960139751383,173.90531894827,173.813983967132,173.772206384172,173.805729534265,173.93662750116,173.956358883868],"lat":[-40.6928282325892,-40.7644749495549,-40.857230999874,-40.930467433164,-40.8619594325141,-40.8027343164422,-40.7475060664529,-40.6928282325892]}]]],["Northland","Auckland","Waikato","Bay.of.Plenty","Gisborne","Hawke.s.Bay","Taranaki","Manawatu.Wanganui","Wellington","West.Coast","Canterbury","Otago","Southland","Tasman","Nelson","Marlborough"],"nz",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":"#666666","weight":1,"opacity":1,"fill":true,"fillColor":["#440154","#37B878","#228B8D","#35608D","#482576","#365D8D","#26AD81","#443A83","#FDE725","#2D718E","#52C569","#33628D","#33B67A","#3C4F8A","#2A788E","#228B8D"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"dashArray":"none","smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Northland<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>23,400<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Auckland<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>29,600<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Waikato<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>27,900<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Bay of Plenty<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,200<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Gisborne<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>24,400<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Hawke's Bay<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,100<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Taranaki<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>29,100<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Manawatu-Wanganui<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>25,000<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Wellington<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>32,700<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>West Coast<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,900<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Canterbury<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>30,100<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Otago<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>26,300<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Southland<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>29,500<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Tasman<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>25,700<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Nelson<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>27,200<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Marlborough<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Median_income<\/nobr><\/td><td align=\"right\"><nobr>27,900<\/nobr><\/td><\/tr><\/table><\/div>"],null,["Northland","Auckland","Waikato","Bay of Plenty","Gisborne","Hawke's Bay","Taranaki","Manawatu-Wanganui","Wellington","West Coast","Canterbury","Otago","Southland","Tasman","Nelson","Marlborough"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#481B6D , #481B6D 0%, #443C7C 12.5%, #38588C 25%, #33738D 37.5%, #218E8D 50%, #3EA87D 62.5%, #4DC36B 75%, #9CD34D 87.5%, #D7E219 100%, #D7E219 "],"labels":["24,000","25,000","26,000","27,000","28,000","29,000","30,000","31,000","32,000"],"na_color":null,"na_label":null,"opacity":1,"position":"topright","type":"numeric","title":"Median income (USD)","extra":{"p_1":0,"p_n":1},"layerId":"legend401","className":"info legend nz","group":"nz"}]},{"method":"addCircles","args":[[-35.75111111,-37.65944444,-38.6725,-39.475,-39.94416667,-41.2775,-42.44472222,-41.75027778,-43.60611111,-45.87583333,-41.28555556],[174.3426973,176.1740872,178.0224971,176.9180801,174.9895171,174.7898704,171.20053,171.5912839,172.7102473,170.5193168,174.004417],[23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481,23848.2611277481],["Whangarei","Tauranga","Gisborne.1","Napier","Wanganui","Wellington.1","Greymouth","Westport","Lyttelton","Dunedin","Picton"],"nz_ports",{"interactive":true,"className":"","pane":"tmap402","stroke":true,"color":"#666666","weight":1,"opacity":0.5,"fill":true,"fillColor":["#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1]},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Whangarei<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Whangarei<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Tauranga<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Tauranga<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Gisborne<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Gisborne<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Napier<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Napier<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Wanganui<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Wanganui<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Wellington<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Wellington<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Greymouth<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Greymouth<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Westport<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Westport<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Lyttelton<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Lyttelton<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Dunedin<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Dunedin<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>Picton<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>name<\/nobr><\/td><td align=\"right\"><nobr>Picton<\/nobr><\/td><\/tr><\/table><\/div>"],null,["Whangarei","Tauranga","Gisborne","Napier","Wanganui","Wellington","Greymouth","Westport","Lyttelton","Dunedin","Picton"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]},{"method":"addGraticule","args":[20,false,{"color":"#333","weight":1},null,null,{"interactive":true,"className":"","pane":"tmap403"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],["nz","nz_ports"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":false,"updateWhenIdle":true,"position":"bottomright"}]},{"method":"addMiniMap","args":[null,"Esri.WorldGrayCanvas","bottomleft",150,150,19,19,-5,false,false,false,true,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]}],"limits":{"lat":[-47.2828524160058,-34.4145187168354],"lng":[166.426302914574,178.550373601283]},"fitBounds":[-47.2828524160058,166.426302914574,-34.4145187168354,178.550373601283,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n\t\t\t    function(el, x) {\n\t\t\t      var myMap = this;\n\t\t\t      myMap.on('baselayerchange',\n\t\t\t        function (e) {\n\t\t\t          myMap.minimap.changeLayer(L.tileLayer.provider(e.name));\n\t\t\t        })\n\t\t\t    }).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
<p>To return to the static mode, we need to use <code>tmap_mode("plot")</code>:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="making-maps-in-r.html#cb115-1"></a><span class="kw">tmap_mode</span>(<span class="st">&quot;plot&quot;</span>)</span>
<span id="cb115-2"><a href="making-maps-in-r.html#cb115-2"></a>tm3</span></code></pre></div>
<p><img src="_main_files/figure-html/04-making-maps-23-1.png" width="672" /></p>
</div>
<div id="saving-maps" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.7</span> Saving maps<a href="making-maps-in-r.html#saving-maps" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Maps created with {tmap} can be saved to various file formats.
It includes <code>.png</code> for raster graphic files, <code>.svg</code> for vector graphic files, or even <code>.html</code> to save an interactive map.
All of the saving can be done with <code>tmap_save()</code>, which accepts the map object and a file path.
It also allows customizing the output map resolution.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="making-maps-in-r.html#cb116-1"></a><span class="kw">tmap_save</span>(tm3, <span class="st">&quot;my_map.png&quot;</span>)</span>
<span id="cb116-2"><a href="making-maps-in-r.html#cb116-2"></a><span class="kw">tmap_save</span>(tm3, <span class="st">&quot;my_map.svg&quot;</span>)</span>
<span id="cb116-3"><a href="making-maps-in-r.html#cb116-3"></a><span class="kw">tmap_save</span>(tm3, <span class="st">&quot;my_map.html&quot;</span>)</span></code></pre></div>
<div class="infobox tip">
<p>Note that some {tmap} functions have a <code>tm_</code> prefix, while other a <code>tmap_</code> prefix.
This syntax allows to distinct between making maps functions (e.g., <code>tm_shape()</code> or <code>tm_polygons()</code>) and other functions (e.g., <code>tmap_save()</code>).</p>
</div>
</div>
<div id="what-else" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.8</span> What else?<a href="making-maps-in-r.html#what-else" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The above examples showed basic (and probably the most often used) features of {tmap}.
However, this package has much more to offer, including:</p>
<ul>
<li>Facet maps: using <code>tm_facets()</code> to create small multiples map</li>
<li>Animations: using <code>tm_facets()</code> + <code>tmap_animation()</code> to create map animations</li>
<li>Mapping applications: using the {shiny} package with <code>renderTmap()</code>, <code>tmapOutput()</code>, etc.</li>
<li><code>tmap_tip()</code></li>
</ul>
</div>
<div id="more-resources" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.9</span> More resources<a href="making-maps-in-r.html#more-resources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For more resources check <a href="https://github.com/r-tmap/tmap">the {tmap} repo</a>, read <a href="https://r-tmap.github.io/tmap-book">the tmap book (work in progress)</a> and <a href="https://geocompr.robinlovelace.net/adv-map.html">the Making maps with R chapter</a>.</p>
</div>
<div id="exercises" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.10</span> Exercises<a href="making-maps-in-r.html#exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Read the following datasets:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="making-maps-in-r.html#cb117-1"></a>srtm &lt;-<span class="st"> </span><span class="kw">rast</span>(<span class="kw">system.file</span>(<span class="st">&quot;raster/srtm.tif&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spDataLarge&quot;</span>))</span>
<span id="cb117-2"><a href="making-maps-in-r.html#cb117-2"></a>zion &lt;-<span class="st"> </span><span class="kw">read_sf</span>((<span class="kw">system.file</span>(<span class="st">&quot;vector/zion.gpkg&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spDataLarge&quot;</span>)))</span>
<span id="cb117-3"><a href="making-maps-in-r.html#cb117-3"></a>zion_points &lt;-<span class="st"> </span><span class="kw">read_sf</span>(<span class="kw">system.file</span>(<span class="st">&quot;vector/zion_points.gpkg&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spDataLarge&quot;</span>))</span></code></pre></div>
<p>E1. Create a simple map using {tmap} with three map layers: (1) <code>srtm</code> (colored based on its values), (2) <code>zion</code> (as a grey polygon), (3) <code>zion_points</code> (as grey symbols).</p>
<p>E2. Customize the map from E1, for example by: improving the legend title, changing the color palette, etc.</p>
<p>E3. Add some attribute layers to your map, including the scale bar and north arrow.
Also, add your name in the bottom left corner of the map.</p>
<p>E4. Try to adjust the overall map look by, for example, removing the map frame and adding a map title.</p>
<p>E5. Bonus: add two manual legend: one for the <code>zion</code> and one for <code>zion_points</code>.</p>
<p>E6. Try saving your map to different file formats: <code>.png</code>, <code>.pdf</code>, and <code>.html</code>.
Can you notice any difference between the files?</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Try <code>tm_basemap()</code> and <code>tm_tiles()</code> if you want to customize the interactive tiles.<a href="making-maps-in-r.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rspatial.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="manipulating-vector-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Bakaniko/foss4g2022-getting-started-rspatial/edit/main/04-making-maps.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
