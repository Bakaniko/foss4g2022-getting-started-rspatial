[["index.html", "Getting started with R and R-spatial About", " Getting started with R and R-spatial Nicolas Roelandt and Jakub Nowosad 2022-07-15 About This is the teaching materials for a workshop introducing R and R-spatial at the FOSS4G2022 conference. "],["introduction.html", "Introduction", " Introduction "],["data-handling-with-r.html", "Chapter 1 Data handling with R", " Chapter 1 Data handling with R "],["introduction-to-the-r-spatial-ecosystem.html", "Chapter 2 Introduction to the R-spatial ecosystem 2.1 R packages - specialized packages 2.2 R’s spatial ecosystem(s)", " Chapter 2 Introduction to the R-spatial ecosystem https://www.r-spatial.org/ https://www.rspatial.org/ https://geocompr.github.io/ #rspatial and #geocompr on Twitter What can you do with geographic data + R? Exploratory data analysis (EDA) Output data in different formats (e.g. creating a .GeoTIFF or .shp file to share with others) Data processing (e.g. adding new variables, ‘adding value’) Data transformation (e.g. changing CRS, reducing size via simplification/aggregation) Data visualization Web application development Software development e.g. to share new methods sf, sp, terra, raster, stars - spatial classes dplyr, rmapshaper - processing of attribute tables/geometries rnaturalearth, osmdata, getSpatialData - spatial data download rgrass7, qgisprocess, RSAGA, link2GI - connecting with GIS software gstat, mlr3, CAST - spatial data modeling rasterVis, tmap, ggplot2 - static visualizations leaflet, mapview, mapdeck - interactive visualizations many more… 2.1 R packages - specialized packages spatstat spdep spatialreg dismo landscapemetrics - part of https://github.com/r-spatialecology RStoolbox rayshader gdalcubes sfnetworks many more… Learn more at https://cran.r-project.org/web/views/Spatial.html. 2.2 R’s spatial ecosystem(s) rspatial vs r-spatial Old vs New Legacy Other R ecosystems … Figure 2.1: Source: https://geocompr.robinlovelace.net Figure 2.2: Source: https://www.r-spatial.org/r/2020/03/17/wkt.html "],["making-maps-in-r.html", "Chapter 3 Making maps in R 3.1 Mapping tools in R 3.2 tmap 3.3 More resources 3.4 Exercises", " Chapter 3 Making maps in R library(tmap) library(sf) library(terra) library(spData) data(&quot;nz&quot;) nz_ports = read_sf(&quot;data/nz_ports.gpkg&quot;) nz_elev = rast(system.file(&quot;raster/nz_elev.tif&quot;, package = &quot;spDataLarge&quot;)) 3.1 Mapping tools in R Static maps: graphics rasterVis ggplot2 ggspatial mapsf … Interactive maps: leaflet mapview mapdeck … Both: tmap Specific-purpose mapping: cartogram geofacet geogrid rayshader … 3.2 tmap tm_shape(nz) + tm_graticules() + tm_polygons(col = &quot;Median_income&quot;) + tm_shape(nz_ports) + tm_symbols(size = 0.75) + tm_scale_bar(breaks = c(0, 100, 200)) + tm_compass(position = c(&quot;right&quot;, &quot;top&quot;)) + tm_layout(bg.color = &quot;lightblue&quot;) 3.2.1 Shapes and layers Table 3.1: Basic map layers Function Geometry tm_polygons() polygons tm_symbols() points, lines, and polygons tm_lines() lines tm_raster() raster tm_text() points, lines, and polygons tm_shape(nz) + tm_polygons() tm_shape(nz) + tm_polygons(col = &quot;darkblue&quot;) #or #00008b tm_shape(nz) + tm_polygons(col = &quot;MAP_COLORS&quot;) head(nz) ## Simple feature collection with 6 features and 6 fields ## Geometry type: MULTIPOLYGON ## Dimension: XY ## Bounding box: xmin: 1568217 ymin: 5518431 xmax: 2089533 ymax: 6191874 ## Projected CRS: NZGD2000 / New Zealand Transverse Mercator 2000 ## Name Island Land_area Population Median_income Sex_ratio ## 1 Northland North 12500.561 175500 23400 0.9424532 ## 2 Auckland North 4941.573 1657200 29600 0.9442858 ## 3 Waikato North 23900.036 460100 27900 0.9520500 ## 4 Bay of Plenty North 12071.145 299900 26200 0.9280391 ## 5 Gisborne North 8385.827 48500 24400 0.9349734 ## 6 Hawke&#39;s Bay North 14137.524 164000 26100 0.9238375 ## geom ## 1 MULTIPOLYGON (((1745493 600... ## 2 MULTIPOLYGON (((1803822 590... ## 3 MULTIPOLYGON (((1860345 585... ## 4 MULTIPOLYGON (((2049387 583... ## 5 MULTIPOLYGON (((2024489 567... ## 6 MULTIPOLYGON (((2024489 567... tm_shape(nz) + tm_polygons(col = &quot;Median_income&quot;) tm_shape(nz) + tm_polygons(col = &quot;Median_income&quot;, title = &quot;Median income (USD)&quot;, palette = &quot;viridis&quot;) tmaptools::palette_explorer() tm_shape(nz) + tm_polygons(col = &quot;Median_income&quot;, title = &quot;Median income (USD)&quot;, palette = &quot;viridis&quot;) tm_shape(nz) + tm_polygons(col = &quot;Median_income&quot;, title = &quot;Median income (USD)&quot;, palette = &quot;viridis&quot;, style = &quot;cont&quot;) tm_shape(nz) + tm_polygons(col = &quot;Median_income&quot;, title = &quot;Median income (USD)&quot;, palette = &quot;viridis&quot;, style = &quot;cont&quot;) + tm_shape(nz_ports) + tm_symbols() tm_shape(nz_elev) + tm_raster(palette = &quot;-Spectral&quot;, style = &quot;cont&quot;, title = &quot;Elevation (m asl)&quot;) + tm_shape(nz_ports) + tm_symbols() ## stars object downsampled to 877 by 1140 cells. See tm_shape manual (argument raster.downsample) tm = tm_shape(nz_elev) + tm_raster(palette = &quot;-Spectral&quot;, style = &quot;cont&quot;, title = &quot;Elevation (m asl)&quot;) + tm_shape(nz_ports) + tm_symbols() 3.2.2 Attributes layers Table 3.2: Basic attributes layers Function Description tm_graticules() draws latitude and longitude graticules tm_scale_bar() adds a scale bar tm_compass() adds a compass rose tm_logo() adds a logo tm_credits() adds a text annotation tm + tm_graticules() + tm_scale_bar(breaks = c(0, 100, 200)) + tm_compass(position = c(&quot;right&quot;, &quot;top&quot;)) + tm_logo(&quot;https://foss4g.org/logos/2022-v2.png&quot;) + tm_credits(&quot;N. Roelandt and J. Nowosad&quot;) ## stars object downsampled to 877 by 1140 cells. See tm_shape manual (argument raster.downsample) tm2 = tm + tm_graticules() + tm_scale_bar(breaks = c(0, 100, 200)) + tm_compass(position = c(&quot;right&quot;, &quot;top&quot;)) + tm_logo(&quot;https://foss4g.org/logos/2022-v2.png&quot;) + tm_credits(&quot;N. Roelandt and J. Nowosad&quot;) 3.2.3 Other tm2 + tm_add_legend(type = &quot;symbol&quot;, col = &quot;grey&quot;, title = &quot;Main ports&quot;) + tm_layout(main.title = &quot;New Zealand&quot;, bg.color = &quot;lightblue&quot;) ## stars object downsampled to 877 by 1140 cells. See tm_shape manual (argument raster.downsample) tm3 = tm2 + tm_add_legend(type = &quot;symbol&quot;, col = &quot;grey&quot;, title = &quot;Main ports&quot;) + tm_layout(main.title = &quot;New Zealand&quot;, bg.color = &quot;lightblue&quot;) 3.2.4 Interactive mode tmap_mode(&quot;view&quot;) ## tmap mode set to interactive viewing tm3 ## Credits not supported in view mode. ## Logo not supported in view mode. ## Compass not supported in view mode. ## stars object downsampled to 877 by 1140 cells. See tm_shape manual (argument raster.downsample) ## Warning: In view mode, scale bar breaks are ignored. ## only legends of type &quot;fill&quot; supported in view mode tm3 + tm_minimap() + tm_mouse_coordinates() ## Credits not supported in view mode. ## Logo not supported in view mode. ## Compass not supported in view mode. ## stars object downsampled to 877 by 1140 cells. See tm_shape manual (argument raster.downsample) ## Warning: In view mode, scale bar breaks are ignored. ## only legends of type &quot;fill&quot; supported in view mode tmap_mode(&quot;plot&quot;) ## tmap mode set to plotting tm3 ## stars object downsampled to 877 by 1140 cells. See tm_shape manual (argument raster.downsample) 3.2.5 Saving maps tmap_save(tm3, &quot;my_map.png&quot;) tmap_save(tm3, &quot;my_map.svg&quot;) tmap_save(tm3, &quot;my_map.html&quot;) 3.2.6 What else? Facet maps Animations Mapping applications tmap_tip() 3.3 More resources https://r-tmap.github.io/tmap-book/index.html https://geocompr.github.io/post/2019/tmap-grid/ https://geocompr.github.io/post/2019/tmap-color-scales/ 3.4 Exercises "],["manipulating-vector-data.html", "Chapter 4 Manipulating vector data", " Chapter 4 Manipulating vector data "],["manipulating-raster-data.html", "Chapter 5 Manipulating raster data", " Chapter 5 Manipulating raster data "],["summary.html", "Summary", " Summary "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
